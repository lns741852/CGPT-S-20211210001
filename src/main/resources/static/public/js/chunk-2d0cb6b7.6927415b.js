(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cb6b7"],{"4a1e":function(e,t,o){"use strict";o.r(t);var a=o("7a23"),n={style:{width:"100%"}},c=Object(a["createElementVNode"])("h3",null,"包裝程序列表",-1),r=Object(a["createTextVNode"])("新增程序"),l=Object(a["createTextVNode"])("修改"),d=Object(a["createTextVNode"])("刪除"),i={class:"dialog-footer"},u=Object(a["createTextVNode"])("確定"),s=Object(a["createTextVNode"])("取消"),b={class:"dialog-footer"},f=Object(a["createTextVNode"])("確定"),m=Object(a["createTextVNode"])("取消");function p(e,t,o,p,j,O){var V=Object(a["resolveComponent"])("search"),h=Object(a["resolveComponent"])("el-icon"),g=Object(a["resolveComponent"])("el-button"),C=Object(a["resolveComponent"])("el-input"),w=Object(a["resolveComponent"])("el-col"),N=Object(a["resolveComponent"])("el-row"),k=Object(a["resolveComponent"])("el-table-column"),x=Object(a["resolveComponent"])("el-table"),F=Object(a["resolveComponent"])("el-pagination"),v=Object(a["resolveComponent"])("el-card"),_=Object(a["resolveComponent"])("el-form-item"),y=Object(a["resolveComponent"])("el-option"),D=Object(a["resolveComponent"])("el-select"),L=Object(a["resolveComponent"])("el-form"),P=Object(a["resolveComponent"])("el-dialog");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[c,Object(a["createVNode"])(v,{class:"box-card"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(N,{gutter:24},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(w,{span:8},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(C,{placeholder:"包裝程序查詢",modelValue:j.queryInfo.searchName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return j.queryInfo.searchName=e}),clearable:"",onClear:O.getPackageList,onKeyup:Object(a["withKeys"])(O.getPackageList,["enter"])},{append:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(g,{class:"search_button",onClick:O.getPackageList},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(V)]})),_:1})]})),_:1},8,["onClick"])]})),_:1},8,["modelValue","onClear","onKeyup"])]})),_:1}),Object(a["createVNode"])(w,{span:12}),Object(a["createVNode"])(g,{class:"edit_button",onClick:t[1]||(t[1]=function(e){return j.addDialogVisible=!0})},{default:Object(a["withCtx"])((function(){return[r]})),_:1})]})),_:1}),Object(a["createVNode"])(x,{data:j.packageList,style:{width:"100%"}},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(k,{type:"index",label:"編號",width:"80"}),Object(a["createVNode"])(k,{prop:"processno",label:"包裝程序代號"}),Object(a["createVNode"])(k,{prop:"processname",label:"包裝程序名稱"}),Object(a["createVNode"])(k,{label:"操作"},{default:Object(a["withCtx"])((function(e){return[Object(a["createVNode"])(g,{class:"edit_button",onClick:function(t){return O.showEditDialon(e.row.id)}},{default:Object(a["withCtx"])((function(){return[l]})),_:2},1032,["onClick"]),Object(a["createVNode"])(g,{class:"delete_button",onClick:function(t){return O.deleteSetno(e.row.id,e.row.setnamech)}},{default:Object(a["withCtx"])((function(){return[d]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),Object(a["createVNode"])(F,{"current-page":j.queryInfo.pageno,"page-size":j.queryInfo.pagesize,layout:"total, prev, pager, next, jumper",total:j.total,onCurrentChange:O.handleCurrentChange},null,8,["current-page","page-size","total","onCurrentChange"])]})),_:1}),Object(a["createVNode"])(P,{modelValue:j.addDialogVisible,"onUpdate:modelValue":t[6]||(t[6]=function(e){return j.addDialogVisible=e}),onClose:O.addDialogClosed,width:"40%",title:"添加包裝程序"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(L,{ref:"addFormRef",model:j.addForm,"label-width":"120px",rules:j.addFormRules},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(_,{label:"包裝代號",prop:"processno"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(C,{modelValue:j.addForm.processno,"onUpdate:modelValue":t[2]||(t[2]=function(e){return j.addForm.processno=e})},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{label:"包裝名稱",prop:"processname"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(C,{modelValue:j.addForm.processname,"onUpdate:modelValue":t[3]||(t[3]=function(e){return j.addForm.processname=e})},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{label:"保存日期",prop:"day"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(D,{modelValue:j.addForm.day,"onUpdate:modelValue":t[4]||(t[4]=function(e){return j.addForm.day=e}),placeholder:"請選擇",clearable:""},{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(j.date,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:e,label:j.processDate[e],value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])]})),footer:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",i,[Object(a["createVNode"])(g,{class:"edit_button",onClick:O.addPacket},{default:Object(a["withCtx"])((function(){return[u]})),_:1},8,["onClick"]),Object(a["createVNode"])(g,{type:"info",onClick:t[5]||(t[5]=function(e){return j.addDialogVisible=!1})},{default:Object(a["withCtx"])((function(){return[s]})),_:1})])]})),_:1},8,["modelValue","onClose"]),Object(a["createVNode"])(P,{modelValue:j.editDialogVisible,"onUpdate:modelValue":t[11]||(t[11]=function(e){return j.editDialogVisible=e}),onClose:O.editDialogClosed,width:"40%",title:"修改包裝程序"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(L,{ref:"addFormRef",model:j.addForm,"label-width":"120px",rules:j.addFormRules},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(_,{label:"包裝代號",prop:"processno"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(C,{modelValue:j.addForm.processno,"onUpdate:modelValue":t[7]||(t[7]=function(e){return j.addForm.processno=e})},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{label:"包裝名稱",prop:"processname"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(C,{modelValue:j.addForm.processname,"onUpdate:modelValue":t[8]||(t[8]=function(e){return j.addForm.processname=e})},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{label:"保存日期",prop:"day"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(D,{modelValue:j.addForm.day,"onUpdate:modelValue":t[9]||(t[9]=function(e){return j.addForm.day=e}),placeholder:"請選擇",clearable:""},{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(j.date,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:e,label:j.processDate[e],value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])]})),footer:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",b,[Object(a["createVNode"])(g,{class:"edit_button",onClick:O.editPacket},{default:Object(a["withCtx"])((function(){return[f]})),_:1},8,["onClick"]),Object(a["createVNode"])(g,{type:"info",onClick:t[10]||(t[10]=function(e){return j.editDialogVisible=!1})},{default:Object(a["withCtx"])((function(){return[m]})),_:1})])]})),_:1},8,["modelValue","onClose"])])}var j={data:function(){return{date:[1,7,14,30,60,90,180,365],processDate:{1:"一天",7:"一周",14:"兩周",30:"一個月",60:"兩個月",90:"三個月",180:"半年",365:"一年"},queryInfo:{searchName:"",pageno:"",pagesize:""},packageList:[],total:"",addDialogVisible:!1,editDialogVisible:!1,addForm:{},addFormRules:{processno:[{required:!0,message:"請輸入代號...",trigger:"blur"}],processname:[{required:!0,message:"請輸入名稱...",trigger:"blur"}],day:[{required:!0,message:"請輸入日期...",trigger:"blur"}]}}},created:function(){this.getPackageList()},methods:{getPackageList:function(){var e=this;this.$axios.get("/package",this.queryInfo).then((function(t){e.total=t.data.data.total,e.packageList=t.data.data.list}))},handleCurrentChange:function(e){this.queryInfo.pageno=e,this.getPackageList()},addDialogClosed:function(){this.$refs.addFormRef.resetFields(),this.addForm={}},editDialogClosed:function(){this.$refs.addFormRef.resetFields(),this.addForm={}},addPacket:function(){var e=this;this.$refs.addFormRef.validate((function(t){t&&(e.addForm.datename=e.processDate[e.addForm.day],e.$axios.post("/package",e.addForm).then((function(){e.addDialogVisible=!1,e.getPackageList()})))}))},editPacket:function(){var e=this;this.$refs.addFormRef.validate((function(t){t&&(console.log(e.addForm),e.$axios.put("/package/"+e.addForm.id,e.addForm).then((function(){e.editDialogVisible=!1,e.getPackageList()})))}))},showEditDialon:function(e){var t=this;this.$axios.get("/package/"+e).then((function(e){t.addForm=e.data.data})),this.editDialogVisible=!0},deleteSetno:function(e,t){var o=this;this.$msgbox.confirm("確定要刪除 "+t+" ?","刪除",{cancelButtonText:"取消",confirmButtonText:"確定",type:"warning"}).then((function(){o.$axios.remove("/package/"+e).then((function(){o.getPackageList()}))})).catch((function(){}))}}},O=o("6b0d"),V=o.n(O);const h=V()(j,[["render",p]]);t["default"]=h}}]);
//# sourceMappingURL=chunk-2d0cb6b7.6927415b.js.map