{"version":3,"sources":["webpack:///./src/components/admin/account.vue","webpack:///./src/components/admin/account.vue?bc22","webpack:///./src/components/admin/account.vue?26ab"],"names":["_createElementVNode","class","_hoisted_1","_createVNode","_component_el_row","_component_el_col","span","offset","_component_el_input","placeholder","$data","searchName","$event","clearable","onClear","$options","onKeyup","append","_component_el_button","onClick","_component_el_icon","_component_search","_component_el_select","empNO","_createElementBlock","_Fragment","_renderList","item","_createBlock","_component_el_option","key","DEPNO","label","DEPNAME","value","xs","md","_component_el_pagination","current-page","pageno","page-size","pagesize","layout","total","onCurrentChange","_component_el_table","data","style","border","cell-style","borderColor","header-cell-style","_component_el_table_column","type","width","prop","default","scope","row","systemprivilege","id","usercname","_component_el_dialog","onClose","title","_component_el_form","ref","model","label-width","rules","_component_el_form_item","userno","depno","userpwd","_component_el_radio_group","_component_el_radio","oneId","oneName","_component_el_checkbox","checked","twoMenuList","_component_el_checkbox_group","twoId","twoName","footer","depnoList","queryInfo","accountList","privilegens","A","B","C","D","addDialogVisible","editDialogVisible","addForm","ids","editForm","auth","addFormRules","required","message","trigger","min","max","created","this","getDepNo","getAccountList","getAuth","methods","$axios","get","then","res","list","handleCurrentChange","newPage","addDialogClosed","$refs","addFormRef","resetFields","editDialogClosed","addAccount","validate","valid","i","length","substring","post","editAccount","console","log","put","showEditDialon","b","csrAccountAuths","forEach","push","csrAuth","deleteAccount","name","$msgbox","confirm","cancelButtonText","confirmButtonText","remove","catch","__exports__","render"],"mappings":"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","file":"public/js/chunk-109a1965.c61c8c4b.js","sourcesContent":["<template>\r\n  <h3>帳號列表</h3>\r\n  <el-row class=\"bgcolor\">\r\n    <el-col :span=\"5\" :offset=\"1\">\r\n      <!--輸入框-->\r\n      <el-input\r\n        placeholder=\"員工名稱 / 員工代號\"\r\n        v-model=\"queryInfo.searchName\"\r\n        clearable\r\n        @clear=\"getAccountList\"\r\n        @keyup.enter=\"getAccountList\"\r\n      >\r\n        <template #append>\r\n          <el-button class=\"search_button\" @click=\"getAccountList\"\r\n            ><el-icon><search /></el-icon\r\n          ></el-button>\r\n        </template>\r\n      </el-input>\r\n    </el-col>\r\n    <el-col :span=\"4\" :offset=\"12\">\r\n      <!--下拉選單-->\r\n      <el-select v-model=\"queryInfo.empNO\" placeholder=\"部門\" clearable>\r\n        <el-option\r\n          v-for=\"item in depnoList\"\r\n          :key=\"item.DEPNO\"\r\n          :label=\"item.DEPNAME\"\r\n          :value=\"item.DEPNO\"\r\n        >\r\n        </el-option>\r\n      </el-select>\r\n    </el-col>\r\n  </el-row>\r\n  <el-row class=\"elPagination\">\r\n    <el-col :xs=\"{span:6}\"  :md=\"{span:6,offset:18}\">\r\n      <!--分頁-->\r\n      <el-pagination\r\n        :current-page=\"queryInfo.pageno\"\r\n        :page-size=\"queryInfo.pagesize\"\r\n        layout=\"total, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n        @current-change=\"handleCurrentChange\"\r\n      >\r\n      </el-pagination>\r\n    </el-col>\r\n  </el-row>\r\n\r\n  <!--列表-->\r\n  <el-table\r\n    :data=\"accountList\"\r\n    style=\"width: 100%\"\r\n    class=\"elTable\"\r\n    border\r\n    :cell-style=\"{ borderColor: 'black' }\"\r\n    :header-cell-style=\"{ borderColor: 'black' }\"\r\n  >\r\n    <el-table-column type=\"index\" label=\"編號\" width=\"80\" />\r\n    <el-table-column prop=\"userno\" label=\"員工代號\" />\r\n    <el-table-column prop=\"usercname\" label=\"員工姓名\" />\r\n    <el-table-column prop=\"depno\" label=\"部門\" />\r\n    <el-table-column label=\"權限\">\r\n      <template #default=\"scope\">\r\n        {{ privilegens[scope.row.systemprivilege] }}\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"操作\">\r\n      <template #default=\"scope\">\r\n        <el-button class=\"edit_button\" @click=\"showEditDialon(scope.row.id)\"\r\n          >修改</el-button\r\n        >\r\n        <el-button\r\n          class=\"delete_button\"\r\n          @click=\"deleteAccount(scope.row.id, scope.row.usercname)\"\r\n          >刪除</el-button\r\n        >\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n\r\n  <el-button class=\"edit_button\" @click=\"addDialogVisible = true\"\r\n    >新增帳號</el-button\r\n  >\r\n  <!--新增-->\r\n  <el-dialog\r\n    v-model=\"addDialogVisible\"\r\n    @close=\"addDialogClosed\"\r\n    width=\"40%\"\r\n    title=\"添加帳號\"\r\n  >\r\n    <!--驗證-->\r\n    <template #default>\r\n      <el-form\r\n        ref=\"addFormRef\"\r\n        :model=\"addForm\"\r\n        label-width=\"80px\"\r\n        :rules=\"addFormRules\"\r\n      >\r\n        <el-form-item label=\"員工代號\" prop=\"userno\">\r\n          <el-input v-model=\"addForm.userno\"></el-input>\r\n        </el-form-item>\r\n        <!--新增_下拉選單-->\r\n        <el-form-item label=\"部門\" prop=\"depno\">\r\n          <el-select v-model=\"addForm.depno\" placeholder=\"部門\" clearable>\r\n            <el-option\r\n              v-for=\"item in depnoList\"\r\n              :key=\"item.DEPNO\"\r\n              :label=\"item.DEPNAME\"\r\n              :value=\"item.DEPNO\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"姓名\" prop=\"usercname\">\r\n          <el-input v-model=\"addForm.usercname\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密碼\" prop=\"userpwd\">\r\n          <el-input v-model=\"addForm.userpwd\"></el-input>\r\n        </el-form-item>\r\n        <!--radio-->\r\n        <el-form-item label=\"權限\" prop=\"systemprivilege\">\r\n          <el-radio-group v-model=\"addForm.systemprivilege\">\r\n            <el-radio label=\"A\">管理員</el-radio>\r\n            <el-radio label=\"B\">護理長</el-radio>\r\n            <el-radio label=\"C\">供應室職員</el-radio>\r\n            <el-radio label=\"D\">病房職員</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <!--checkbox-->\r\n        <template v-for=\"item in auth\" :key=\"item.oneId\">\r\n          <!--一級權限-->\r\n          <el-form-item :label=\"item.oneName\">\r\n            <!--隱藏-->\r\n            <el-checkbox\r\n              :label=\"item.oneId\"\r\n              v-model=\"ids\"\r\n              checked\r\n              v-show=\"false\"\r\n            />\r\n            <!--級權限-->\r\n            <el-form-item>\r\n              <el-checkbox-group\r\n                v-model=\"ids\"\r\n                v-for=\"item in item.twoMenuList\"\r\n                :key=\"item.twoId\"\r\n              >\r\n                <el-checkbox :label=\"item.twoName\"/>\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n          </el-form-item>\r\n        </template>\r\n      </el-form>\r\n    </template>\r\n    <template #footer>\r\n      <div class=\"dialog-footer\">\r\n        <el-button class=\"edit_button\" @click=\"addAccount\">確定</el-button>\r\n        <el-button type=\"info\" @click=\"addDialogVisible = false\"\r\n          >取消</el-button\r\n        >\r\n      </div>\r\n    </template>\r\n  </el-dialog>\r\n  <!--修改-->\r\n  <el-dialog\r\n    v-model=\"editDialogVisible\"\r\n    @close=\"editDialogClosed\"\r\n    width=\"40%\"\r\n    title=\"修改帳號\"\r\n  >\r\n    <!--驗證-->\r\n    <template #default>\r\n      <el-form\r\n        ref=\"addFormRef\"\r\n        :model=\"editForm\"\r\n        label-width=\"80px\"\r\n        :rules=\"addFormRules\"\r\n      >\r\n        <el-form-item label=\"員工編號\" prop=\"userno\">\r\n          <el-input v-model=\"editForm.userno\"></el-input>\r\n        </el-form-item>\r\n        <!--修改_下拉選單-->\r\n        <el-form-item label=\"部門\" prop=\"depno\">\r\n          <el-select v-model=\"editForm.depno\" placeholder=\"部門\" clearable>\r\n            <el-option\r\n              v-for=\"item in depnoList\"\r\n              :key=\"item.DEPNO\"\r\n              :label=\"item.DEPNAME\"\r\n              :value=\"item.DEPNO\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"姓名\" prop=\"usercname\">\r\n          <el-input v-model=\"editForm.usercname\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密碼\" prop=\"userpwd\">\r\n          <el-input v-model=\"editForm.userpwd\"></el-input>\r\n        </el-form-item>\r\n        <!--radio-->\r\n        <el-form-item label=\"權限\" prop=\"systemprivilege\">\r\n          <el-radio-group v-model=\"editForm.systemprivilege\">\r\n            <el-radio label=\"A\">管理員</el-radio>\r\n            <el-radio label=\"B\">護理長</el-radio>\r\n            <el-radio label=\"C\">供應室職員</el-radio>\r\n            <el-radio label=\"D\">病房職員</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <!--checkbox-->\r\n        <template v-for=\"item in auth\" :key=\"item.oneId\">\r\n          <el-form-item :label=\"item.oneName\">\r\n            <el-checkbox\r\n              :label=\"item.oneId\"\r\n              v-model=\"ids\"\r\n              checked\r\n              v-show=\"false\"\r\n            >\r\n            </el-checkbox>\r\n            <el-form-item>\r\n              <el-checkbox-group\r\n                v-model=\"ids\"\r\n                v-for=\"item in item.twoMenuList\"\r\n                :key=\"item.twoId\"\r\n              >\r\n                <el-checkbox :label=\"item.twoName\">\r\n                  {{ item.twoName }}\r\n                </el-checkbox>\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n          </el-form-item>\r\n        </template>\r\n      </el-form>\r\n    </template>\r\n    <template #footer>\r\n      <div class=\"dialog-footer\">\r\n        <el-button class=\"edit_button\" @click=\"editAccount\">確定</el-button>\r\n        <el-button type=\"info\" @click=\"editDialogVisible = false\"\r\n          >取消</el-button\r\n        >\r\n      </div>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      depnoList: [],\r\n      queryInfo: {\r\n        empNO: \"\",\r\n        searchName: \"\",\r\n        pageno: \"\",\r\n        pagesize: \"\",\r\n      },\r\n      accountList: [],\r\n      privilegens: {\r\n        A: \"管理人員\",\r\n        B: \"護理長\",\r\n        C: \"供應中心職員\",\r\n        D: \"病房人員\",\r\n      },\r\n      total: \"\",\r\n      addDialogVisible: false,\r\n      editDialogVisible: false,\r\n      addForm: {\r\n        userno: \"\",\r\n        depno: \"\",\r\n        usercname: \"\",\r\n        userpwd: \"\",\r\n        systemprivilege: \"\",\r\n        ids: \"\",\r\n      },\r\n      editForm: {},\r\n      ids: [],\r\n      auth: [],\r\n      addFormRules: {\r\n        userno: [\r\n          { required: true, message: \"請輸入...\", trigger: \"blur\" },\r\n          { min: 3, max: 10, message: \"長度3~10\", trigger: \"blur\" },\r\n        ],\r\n        depno: [{ required: true, message: \"請輸入...\", trigger: \"blur\" }],\r\n        usercname: [\r\n          { required: true, message: \"請輸入...\", trigger: \"blur\" },\r\n          { min: 3, max: 10, message: \"長度3~10\", trigger: \"blur\" },\r\n        ],\r\n        userpwd: [\r\n          { required: true, message: \"請輸入...\", trigger: \"blur\" },\r\n          { min: 3, max: 10, message: \"長度3~10\", trigger: \"blur\" },\r\n        ],\r\n        systemprivilege: [\r\n          { required: true, message: \"請輸入...\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.getDepNo();\r\n    this.getAccountList();\r\n    this.getAuth();\r\n  },\r\n  methods: {\r\n    /** 部門查詢 */\r\n    getDepNo() {\r\n      this.$axios.get(\"/account/depno\").then((res) => {\r\n        this.depnoList = res.data.data;\r\n      });\r\n    },\r\n    /**列表查詢 */\r\n    getAccountList() {\r\n      this.$axios.get(\"/account\", this.queryInfo).then((res) => {\r\n        this.total = res.data.data.total;\r\n        this.accountList = res.data.data.list;\r\n      });\r\n    },\r\n    /**權限查詢 */\r\n    getAuth() {\r\n      this.$axios.get(\"/auth\").then((res) => {\r\n        this.auth = res.data.data;\r\n      });\r\n    },\r\n    /**監聽頁面刷新 */\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pageno = newPage;\r\n      this.getAccountList();\r\n    },\r\n    /**清空訊息 */\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields();\r\n      this.ids = [];\r\n    },\r\n    /**清空訊息 */\r\n    editDialogClosed() {\r\n      this.$refs.addFormRef.resetFields();\r\n      this.ids = [];\r\n    },\r\n    /**新增帳號 */\r\n    addAccount() {\r\n      this.$refs.addFormRef.validate((valid) => {\r\n        if (!valid) return;\r\n        //陣列轉字串\r\n        for (let i = 0; i < this.ids.length; i++) {\r\n          this.addForm.ids = this.addForm.ids + \",\" + this.ids[i];\r\n        }\r\n        this.addForm.ids = this.addForm.ids.substring(1);\r\n        this.$axios.post(\"/account\", this.addForm).then(() => {\r\n          this.addDialogVisible = false;\r\n          this.getAccountList();\r\n        });\r\n      });\r\n    },\r\n    /**編輯帳號 */\r\n    editAccount() {\r\n      this.$refs.addFormRef.validate((valid) => {\r\n        if (!valid) return;\r\n        this.editForm[\"ids\"] = \"\";\r\n        for (let i = 0; i < this.ids.length; i++) {\r\n          this.editForm.ids = this.editForm.ids + \",\" + this.ids[i];\r\n        }\r\n        this.editForm.ids = this.editForm.ids.substring(1);\r\n\r\n        console.log(this.editForm.userno);\r\n        this.$axios\r\n          .put(\"/account/\" + this.editForm.id, this.editForm)\r\n          .then(() => {\r\n            this.editDialogVisible = false;\r\n            this.getAccountList();\r\n          });\r\n      });\r\n    },\r\n    /**顯示修改帳戶 */\r\n    showEditDialon(id) {\r\n      this.$axios.get(\"/account/\" + id).then((res) => {\r\n        this.editForm = res.data.data;\r\n        let b = [];\r\n        res.data.data.csrAccountAuths.forEach(function (item) {\r\n          b.push(item.csrAuth.id);\r\n        });\r\n        this.ids = b;\r\n      });\r\n      this.editDialogVisible = true;\r\n    },\r\n    /**刪除 */\r\n    deleteAccount(id, name) {\r\n      this.$msgbox\r\n        .confirm(\"確定要刪除 \" + name + \" ?\", \"刪除\", {\r\n          cancelButtonText: \"取消\",\r\n          confirmButtonText: \"確定\",\r\n          type: \"warning\",\r\n        })\r\n        .then(() => {\r\n          this.$axios.remove(\"/account/\" + id).then(() => {\r\n            this.getAccountList();\r\n          });\r\n        })\r\n        .catch(() => {\r\n          //nothing to do\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scope>\r\n.el-row.bgcolor {\r\n  padding: 10px 0 5px 0;\r\n  border: 3px solid #114f4a;\r\n  background: #d4debc;\r\n}\r\n\r\n.el-pagination{\r\n   margin-top: 10px;\r\n}\r\n</style>","import { render } from \"./account.vue?vue&type=template&id=8e6bb980\"\nimport script from \"./account.vue?vue&type=script&lang=js\"\nexport * from \"./account.vue?vue&type=script&lang=js\"\n\nimport \"./account.vue?vue&type=style&index=0&id=8e6bb980&lang=less&scope=true\"\n\nimport exportComponent from \"D:\\\\vue_workspace\\\\cgpt-s-202211210001-f\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./account.vue?vue&type=style&index=0&id=8e6bb980&lang=less&scope=true\""],"sourceRoot":""}