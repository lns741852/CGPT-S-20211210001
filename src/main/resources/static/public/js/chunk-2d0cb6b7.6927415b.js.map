{"version":3,"sources":["webpack:///./src/components/admin/package.vue","webpack:///./src/components/admin/package.vue?f9bc"],"names":["style","_createElementVNode","class","_createElementBlock","_hoisted_2","_createVNode","_component_el_card","_component_el_row","gutter","_component_el_col","span","_component_el_input","placeholder","$data","searchName","$event","clearable","onClear","$options","onKeyup","append","_component_el_button","onClick","_component_el_icon","_component_search","_component_el_table","data","_component_el_table_column","type","label","width","prop","default","scope","row","id","setnamech","_component_el_pagination","current-page","pageno","page-size","pagesize","layout","total","onCurrentChange","_component_el_dialog","onClose","title","_component_el_form","ref","model","label-width","rules","_component_el_form_item","processno","processname","_component_el_select","day","_Fragment","_renderList","item","_createBlock","_component_el_option","key","value","footer","date","processDate","1","7","14","30","60","90","180","365","queryInfo","packageList","addDialogVisible","editDialogVisible","addForm","addFormRules","required","message","trigger","created","this","getPackageList","methods","$axios","get","then","res","list","handleCurrentChange","newPage","addDialogClosed","$refs","addFormRef","resetFields","editDialogClosed","addPacket","validate","valid","datename","post","editPacket","console","log","put","showEditDialon","deleteSetno","name","$msgbox","confirm","cancelButtonText","confirmButtonText","remove","catch","__exports__","render"],"mappings":"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","file":"public/js/chunk-2d0cb6b7.6927415b.js","sourcesContent":["<template>\r\n  <div style=\"width: 100%\">\r\n    <h3>包裝程序列表</h3>\r\n    <!--卡片區塊-->\r\n    <el-card class=\"box-card\">\r\n      <el-row :gutter=\"24\">\r\n        <el-col :span=\"8\">\r\n          <!--輸入框-->\r\n          <el-input\r\n            placeholder=\"包裝程序查詢\"\r\n            v-model=\"queryInfo.searchName\"\r\n            clearable\r\n            @clear=\"getPackageList\"\r\n            @keyup.enter=\"getPackageList\"\r\n          >\r\n            <template #append>\r\n              <el-button class=\"search_button\" @click=\"getPackageList\">\r\n                <el-icon><search /></el-icon>\r\n              </el-button>\r\n            </template>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"12\"> </el-col>\r\n        <el-button class=\"edit_button\" @click=\"addDialogVisible = true\"\r\n          >新增程序</el-button\r\n        >\r\n      </el-row>\r\n      <!--列表-->\r\n      <el-table :data=\"packageList\" style=\"width: 100%\">\r\n        <el-table-column type=\"index\" label=\"編號\" width=\"80\" />\r\n        <el-table-column prop=\"processno\" label=\"包裝程序代號\" />\r\n        <el-table-column prop=\"processname\" label=\"包裝程序名稱\" />\r\n        <el-table-column label=\"操作\">\r\n          <template #default=\"scope\">\r\n            <el-button class=\"edit_button\" @click=\"showEditDialon(scope.row.id)\"\r\n              >修改</el-button\r\n            >\r\n            <el-button\r\n              class=\"delete_button\"\r\n              @click=\"deleteSetno(scope.row.id, scope.row.setnamech)\"\r\n              >刪除</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!--分頁-->\r\n      <el-pagination\r\n        :current-page=\"queryInfo.pageno\"\r\n        :page-size=\"queryInfo.pagesize\"\r\n        layout=\"total, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n        @current-change=\"handleCurrentChange\"\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n    <!--新增用戶對話框-->\r\n    <el-dialog\r\n      v-model=\"addDialogVisible\"\r\n      @close=\"addDialogClosed\"\r\n      width=\"40%\"\r\n      title=\"添加包裝程序\"\r\n    >\r\n      <!--表單驗證-->\r\n      <template #default>\r\n        <el-form\r\n          ref=\"addFormRef\"\r\n          :model=\"addForm\"\r\n          label-width=\"120px\"\r\n          :rules=\"addFormRules\"\r\n        >\r\n          <el-form-item label=\"包裝代號\" prop=\"processno\">\r\n            <el-input v-model=\"addForm.processno\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"包裝名稱\" prop=\"processname\">\r\n            <el-input v-model=\"addForm.processname\"></el-input>\r\n          </el-form-item>\r\n          <!--新增_下拉選單-->\r\n          <el-form-item label=\"保存日期\" prop=\"day\">\r\n            <el-select\r\n              v-model=\"addForm.day\"\r\n              placeholder=\"請選擇\"\r\n              clearable\r\n            >\r\n              <el-option\r\n                v-for=\"item in date\"\r\n                :key=\"item\"\r\n                :label=\"processDate[item]\"\r\n                :value=\"item\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-form>\r\n      </template>\r\n      <template #footer>\r\n        <div class=\"dialog-footer\">\r\n          <el-button class=\"edit_button\" @click=\"addPacket\">確定</el-button>\r\n          <el-button type=\"info\" @click=\"addDialogVisible = false\"\r\n            >取消</el-button\r\n          >\r\n        </div>\r\n      </template>\r\n    </el-dialog>\r\n    <!--修改_對話框-->\r\n    <el-dialog\r\n      v-model=\"editDialogVisible\"\r\n      @close=\"editDialogClosed\"\r\n      width=\"40%\"\r\n      title=\"修改包裝程序\"\r\n    >\r\n      <!--表單驗證-->\r\n      <template #default>\r\n        <el-form\r\n          ref=\"addFormRef\"\r\n          :model=\"addForm\"\r\n          label-width=\"120px\"\r\n          :rules=\"addFormRules\"\r\n        >\r\n          <el-form-item label=\"包裝代號\" prop=\"processno\">\r\n            <el-input v-model=\"addForm.processno\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"包裝名稱\" prop=\"processname\">\r\n            <el-input v-model=\"addForm.processname\"></el-input>\r\n          </el-form-item>\r\n          <!--修改_下拉選單-->\r\n          <el-form-item label=\"保存日期\" prop=\"day\">\r\n            <el-select\r\n              v-model=\"addForm.day\"\r\n              placeholder=\"請選擇\"\r\n              clearable\r\n            >\r\n              <el-option\r\n                v-for=\"item in date\"\r\n                :key=\"item\"\r\n                :label=\"processDate[item]\"\r\n                :value=\"item\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-form>\r\n      </template>\r\n      <template #footer>\r\n        <div class=\"dialog-footer\">\r\n          <el-button class=\"edit_button\" @click=\"editPacket\">確定</el-button>\r\n          <el-button type=\"info\" @click=\"editDialogVisible = false\"\r\n            >取消</el-button\r\n          >\r\n        </div>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      date: [1, 7, 14, 30, 60, 90, 180, 365],\r\n      processDate: {\r\n        1: \"一天\",\r\n        7: \"一周\",\r\n        14: \"兩周\",\r\n        30: \"一個月\",\r\n        60: \"兩個月\",\r\n        90: \"三個月\",\r\n        180: \"半年\",\r\n        365: \"一年\",\r\n      },\r\n      queryInfo: {\r\n        searchName: \"\",\r\n        pageno: \"\",\r\n        pagesize: \"\",\r\n      },\r\n      packageList: [],\r\n      total: \"\",\r\n      addDialogVisible: false,\r\n      editDialogVisible: false,\r\n      addForm: {},\r\n      addFormRules: {\r\n        processno: [\r\n          { required: true, message: \"請輸入代號...\", trigger: \"blur\" },\r\n        ],\r\n        processname: [\r\n          { required: true, message: \"請輸入名稱...\", trigger: \"blur\" },\r\n        ],\r\n        day: [\r\n          { required: true, message: \"請輸入日期...\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.getPackageList();\r\n  },\r\n  methods: {\r\n    /**列表查詢 */\r\n    getPackageList() {\r\n      this.$axios.get(\"/package\", this.queryInfo).then((res) => {\r\n        this.total = res.data.data.total;\r\n        this.packageList = res.data.data.list;\r\n      });\r\n    },\r\n    /**監聽頁面刷新 */\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pageno = newPage;\r\n      this.getPackageList();\r\n    },\r\n    /**清空訊息 */\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields();\r\n      this.addForm = {};\r\n    },\r\n    /**清空訊息 */\r\n    editDialogClosed() {\r\n      this.$refs.addFormRef.resetFields();\r\n      this.addForm = {};\r\n    },\r\n    /**新增盤包 */\r\n    addPacket() {\r\n      this.$refs.addFormRef.validate((valid) => {\r\n        if (!valid) return;\r\n        this.addForm.datename = this.processDate[this.addForm.day];\r\n        this.$axios.post(\"/package\", this.addForm).then(() => {\r\n          this.addDialogVisible = false;\r\n          this.getPackageList();\r\n        });\r\n      });\r\n    },\r\n    /**編輯 */\r\n    editPacket() {\r\n      this.$refs.addFormRef.validate((valid) => {\r\n        if (!valid) return;\r\n        console.log(this.addForm);\r\n        this.$axios\r\n          .put(\"/package/\" + this.addForm.id, this.addForm)\r\n          .then(() => {\r\n            this.editDialogVisible = false;\r\n            this.getPackageList();\r\n          });\r\n      });\r\n    },\r\n    /**顯示修改資料 */\r\n    showEditDialon(id) {\r\n      this.$axios.get(\"/package/\" + id).then((res) => {\r\n        this.addForm = res.data.data;\r\n      });\r\n      this.editDialogVisible = true;\r\n    },\r\n    /**刪除 */\r\n    deleteSetno(id, name) {\r\n      this.$msgbox\r\n        .confirm(\"確定要刪除 \" + name + \" ?\", \"刪除\", {\r\n          cancelButtonText: \"取消\",\r\n          confirmButtonText: \"確定\",\r\n          type: \"warning\",\r\n        })\r\n        .then(() => {\r\n          this.$axios.remove(\"/package/\" + id).then(() => {\r\n            this.getPackageList();\r\n          });\r\n        })\r\n        .catch(() => {\r\n          //nothing to do\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scope>\r\n</style>","import { render } from \"./package.vue?vue&type=template&id=6097fd7b\"\nimport script from \"./package.vue?vue&type=script&lang=js\"\nexport * from \"./package.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\vue_workspace\\\\cgpt-s-202211210001-f\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}