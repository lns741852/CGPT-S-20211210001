(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8fadc58e"],{"0289":function(e,t,o){},b7b5:function(e,t,o){"use strict";o.r(t);var n=o("7a23"),c=Object(n["createElementVNode"])("h3",null,"消毒鍋列表",-1),i=Object(n["createTextVNode"])("修改"),r=Object(n["createTextVNode"])("刪除"),a=Object(n["createTextVNode"])("新增消毒鍋"),l={class:"dialog-footer"},d=Object(n["createTextVNode"])("確定"),u=Object(n["createTextVNode"])("取消"),s={class:"dialog-footer"},b=Object(n["createTextVNode"])("確定"),f=Object(n["createTextVNode"])("取消");function m(e,t,o,m,h,j){var O=Object(n["resolveComponent"])("search"),p=Object(n["resolveComponent"])("el-icon"),V=Object(n["resolveComponent"])("el-button"),g=Object(n["resolveComponent"])("el-input"),C=Object(n["resolveComponent"])("el-col"),x=Object(n["resolveComponent"])("el-row"),N=Object(n["resolveComponent"])("el-pagination"),w=Object(n["resolveComponent"])("el-table-column"),k=Object(n["resolveComponent"])("el-table"),_=Object(n["resolveComponent"])("el-form-item"),v=Object(n["resolveComponent"])("el-checkbox"),D=Object(n["resolveComponent"])("el-checkbox-group"),F=Object(n["resolveComponent"])("el-form"),y=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[c,Object(n["createVNode"])(x,{class:"bgcolor"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(C,{span:5,offset:1},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,{placeholder:"消毒鍋代號",modelValue:h.queryInfo.searchName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.queryInfo.searchName=e}),clearable:"",onClear:j.getDisinfection,onKeyup:Object(n["withKeys"])(j.getDisinfection,["enter"])},{append:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(V,{class:"search_button",onClick:j.getDisinfection},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(O)]})),_:1})]})),_:1},8,["onClick"])]})),_:1},8,["modelValue","onClear","onKeyup"])]})),_:1})]})),_:1}),Object(n["createVNode"])(x,{class:"elPagination"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(C,{span:"4",offset:18},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(N,{"current-page":h.queryInfo.pageno,"page-size":h.queryInfo.pagesize,layout:"total, prev, pager, next, jumper",total:h.total,onCurrentChange:j.handleCurrentChange},null,8,["current-page","page-size","total","onCurrentChange"])]})),_:1})]})),_:1}),Object(n["createVNode"])(k,{data:h.disinfectionList,style:{width:"100%"},class:"elTable",border:"","cell-style":{borderColor:"black"},"header-cell-style":{borderColor:"black"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(w,{type:"index",label:"編號",width:"80"}),Object(n["createVNode"])(w,{prop:"disinfection",label:"消毒鍋代號"}),Object(n["createVNode"])(w,{prop:"potname",label:"消毒鍋名稱"}),Object(n["createVNode"])(w,{label:"操作"},{default:Object(n["withCtx"])((function(e){return[Object(n["createVNode"])(V,{class:"edit_button",onClick:function(t){return j.showEditDialon(e.row.id)}},{default:Object(n["withCtx"])((function(){return[i]})),_:2},1032,["onClick"]),Object(n["createVNode"])(V,{class:"delete_button",onClick:function(t){return j.deleteAccount(e.row.disinfection)}},{default:Object(n["withCtx"])((function(){return[r]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),Object(n["createVNode"])(V,{class:"edit_button",onClick:t[1]||(t[1]=function(e){return h.addDialogVisible=!0})},{default:Object(n["withCtx"])((function(){return[a]})),_:1}),Object(n["createVNode"])(y,{modelValue:h.addDialogVisible,"onUpdate:modelValue":t[6]||(t[6]=function(e){return h.addDialogVisible=e}),onClose:j.addDialogClosed,width:"40%",title:"添加消毒鍋"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(F,{ref:"addFormRef",model:h.addForm,"label-width":"80px",rules:h.addFormRules},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(_,{label:"消毒鍋代號",prop:"disinfection"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,{modelValue:h.addForm.disinfection,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.addForm.disinfection=e})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(_,{label:"消毒鍋名稱",prop:"potname"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,{modelValue:h.addForm.potname,"onUpdate:modelValue":t[3]||(t[3]=function(e){return h.addForm.potname=e})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(_,{label:"包裝名稱"},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(h.processList,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(D,{modelValue:h.checkboxList,"onUpdate:modelValue":t[4]||(t[4]=function(e){return h.checkboxList=e}),key:e.processno},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(v,{label:e.processno},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.processname),1)]})),_:2},1032,["label"])]})),_:2},1032,["modelValue"])})),128))]})),_:1})]})),_:1},8,["model","rules"])]})),footer:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",l,[Object(n["createVNode"])(V,{class:"edit_button",onClick:j.addDisinfection},{default:Object(n["withCtx"])((function(){return[d]})),_:1},8,["onClick"]),Object(n["createVNode"])(V,{type:"info",onClick:t[5]||(t[5]=function(e){return h.addDialogVisible=!1})},{default:Object(n["withCtx"])((function(){return[u]})),_:1})])]})),_:1},8,["modelValue","onClose"]),Object(n["createVNode"])(y,{modelValue:h.editDialogVisible,"onUpdate:modelValue":t[11]||(t[11]=function(e){return h.editDialogVisible=e}),onClose:j.editDialogClosed,width:"40%",title:"修改消毒鍋"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(F,{ref:"addFormRef",model:h.addForm,"label-width":"80px",rules:h.addFormRules},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(_,{label:"消毒鍋代號",prop:"disinfection"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,{modelValue:h.addForm.disinfection,"onUpdate:modelValue":t[7]||(t[7]=function(e){return h.addForm.disinfection=e})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(_,{label:"消毒鍋名稱",prop:"potname"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,{modelValue:h.addForm.potname,"onUpdate:modelValue":t[8]||(t[8]=function(e){return h.addForm.potname=e})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(_,{label:"包裝名稱"},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(h.processList,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(D,{modelValue:h.checkboxList,"onUpdate:modelValue":t[9]||(t[9]=function(e){return h.checkboxList=e}),key:e.processno},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(v,{label:e.processno},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.processname),1)]})),_:2},1032,["label"])]})),_:2},1032,["modelValue"])})),128))]})),_:1})]})),_:1},8,["model","rules"])]})),footer:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",s,[Object(n["createVNode"])(V,{class:"edit_button",onClick:j.editAccount},{default:Object(n["withCtx"])((function(){return[b]})),_:1},8,["onClick"]),Object(n["createVNode"])(V,{type:"info",onClick:t[10]||(t[10]=function(e){return h.editDialogVisible=!1})},{default:Object(n["withCtx"])((function(){return[f]})),_:1})])]})),_:1},8,["modelValue","onClose"])],64)}o("d3b7"),o("159b");var h={data:function(){return{processList:[],checkboxList:[],queryInfo:{empNO:"",searchName:"",pageno:"",pagesize:""},disinfectionList:[],total:"",addDialogVisible:!1,editDialogVisible:!1,addForm:{csrProcessPot:[]},addFormRules:{userno:[{required:!0,message:"請輸入...",trigger:"blur"},{min:3,max:10,message:"長度3~10",trigger:"blur"}],depno:[{required:!0,message:"請輸入...",trigger:"blur"}],usercname:[{required:!0,message:"請輸入...",trigger:"blur"},{min:3,max:10,message:"長度3~10",trigger:"blur"}],userpwd:[{required:!0,message:"請輸入...",trigger:"blur"},{min:3,max:10,message:"長度3~10",trigger:"blur"}],systemprivilege:[{required:!0,message:"請輸入...",trigger:"blur"}]}}},created:function(){this.getProcess(),this.getDisinfection()},methods:{getProcess:function(){var e=this;this.$axios.get("/disinfection/process").then((function(t){e.processList=t.data.data}))},getDisinfection:function(){var e=this;this.$axios.get("/disinfection",this.queryInfo).then((function(t){e.total=t.data.data.total,e.disinfectionList=t.data.data.list}))},getAuth:function(){var e=this;this.$axios.get("/auth").then((function(t){e.auth=t.data.data}))},handleCurrentChange:function(e){this.queryInfo.pageno=e,this.getDisinfection()},addDialogClosed:function(){this.$refs.addFormRef.resetFields(),this.checkboxList=[]},editDialogClosed:function(){this.$refs.addFormRef.resetFields(),this.checkboxList=[]},addDisinfection:function(){var e=this;this.$refs.addFormRef.validate((function(t){t&&(e.checkboxList.forEach((function(t){e.addForm.csrProcessPot.push({processno:t})})),e.$axios.post("/disinfection",e.addForm).then((function(){e.addDialogVisible=!1,e.getDisinfection()})))}))},editAccount:function(){var e=this;this.$refs.addFormRef.validate((function(t){t&&(e.checkboxList.forEach((function(t){e.addForm.csrProcessPot.push({processno:t})})),e.$axios.put("/disinfection/"+e.addForm.id,e.addForm).then((function(){e.editDialogVisible=!1,e.getDisinfection()})))}))},showEditDialon:function(e){var t=this;this.$axios.get("/disinfection/"+e).then((function(e){t.addForm=e.data.data,e.data.data.csrProcessPot.forEach((function(e){t.checkboxList.push(e.processno)}))})),this.editDialogVisible=!0},deleteAccount:function(e){var t=this;this.$msgbox.confirm("確定要刪除 "+e+" ?","刪除",{cancelButtonText:"取消",confirmButtonText:"確定",type:"warning"}).then((function(){t.$axios.remove("/disinfection/"+e).then((function(){t.getDisinfection()}))})).catch((function(){}))}}},j=(o("f188"),o("6b0d")),O=o.n(j);const p=O()(h,[["render",m]]);t["default"]=p},f188:function(e,t,o){"use strict";o("0289")}}]);
//# sourceMappingURL=chunk-8fadc58e.ea90c9a0.js.map