(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-518b2557"],{"2d99":function(e,t,a){"use strict";a("d0fd")},"408a":function(e,t,a){var n=a("e330");e.exports=n(1..valueOf)},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("e330"),c=a("1d80"),o=a("577e"),r=a("5899"),i=n("".replace),d="["+r+"]",l=RegExp("^"+d+d+"*"),u=RegExp(d+d+"*$"),s=function(e){return function(t){var a=o(c(t));return 1&e&&(a=i(a,l,"")),2&e&&(a=i(a,u,"")),a}};e.exports={start:s(1),end:s(2),trim:s(3)}},7019:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),c={class:"board-center",style:{width:"60%"}},o=Object(n["createElementVNode"])("h3",null,"個案車列表",-1),r=Object(n["createTextVNode"])("新增個案車"),i=Object(n["createTextVNode"])("修改"),d=Object(n["createTextVNode"])("刪除"),l=Object(n["createTextVNode"])("盤包名稱"),u=Object(n["createTextVNode"])("盤包數量"),s=Object(n["createTextVNode"])("查詢盤包代號"),b=Object(n["createTextVNode"])("輸入"),f=Object(n["createTextVNode"])("刪除"),h={class:"dialog-footer"},O=Object(n["createTextVNode"])("確定"),j=Object(n["createTextVNode"])("取消"),p=Object(n["createTextVNode"])("盤包名稱"),m=Object(n["createTextVNode"])("盤包數量"),V=Object(n["createTextVNode"])("查詢盤包代號"),C=Object(n["createTextVNode"])("輸入"),N=Object(n["createTextVNode"])("刪除"),x={class:"dialog-footer"},w=Object(n["createTextVNode"])("確定"),_=Object(n["createTextVNode"])("取消");function g(e,t,a,g,D,v){var S=Object(n["resolveComponent"])("search"),y=Object(n["resolveComponent"])("el-icon"),k=Object(n["resolveComponent"])("el-button"),E=Object(n["resolveComponent"])("el-input"),F=Object(n["resolveComponent"])("el-col"),I=Object(n["resolveComponent"])("el-row"),T=Object(n["resolveComponent"])("el-table-column"),L=Object(n["resolveComponent"])("el-table"),U=Object(n["resolveComponent"])("el-card"),R=Object(n["resolveComponent"])("el-pagination"),$=Object(n["resolveComponent"])("el-form-item"),q=Object(n["resolveComponent"])("el-form"),A=Object(n["resolveComponent"])("el-link"),M=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",c,[o,Object(n["createVNode"])(I,{class:"bgcolor",gutter:24},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(F,{span:8},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(E,{placeholder:"個案車代號",modelValue:D.queryInfo.searchName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return D.queryInfo.searchName=e}),clearable:"",onClear:v.getCasecarList,onKeyup:Object(n["withKeys"])(v.getCasecarList,["enter"])},{append:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(k,{class:"search_button",onClick:v.getCasecarList},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(y,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(S)]})),_:1})]})),_:1},8,["onClick"])]})),_:1},8,["modelValue","onClear","onKeyup"])]})),_:1}),Object(n["createVNode"])(F,{span:12}),Object(n["createVNode"])(k,{class:"edit_button",onClick:t[1]||(t[1]=function(e){v.closeExpand(),D.addDialogVisible=!0})},{default:Object(n["withCtx"])((function(){return[r]})),_:1})]})),_:1}),Object(n["createVNode"])(L,{data:D.casecarList,style:{width:"100%"},onExpandChange:v.showCasecarDetail,class:"elTable","cell-style":{borderColor:"black"},"header-cell-style":{borderColor:"black"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(T,{type:"expand",label:"#",width:"100"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(U,{class:"downList",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(L,{data:D.casecarSetdatas},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(T,{prop:"csrSetdata3m.setno",label:"盤包代號"}),Object(n["createVNode"])(T,{prop:"csrSetdata3m.setnamech",label:"盤包名稱"}),Object(n["createVNode"])(T,{prop:"num",label:"數量"})]})),_:1},8,["data"])]})),_:1})]})),_:1}),Object(n["createVNode"])(T,{type:"index",label:"編號",width:"100",align:"center"}),Object(n["createVNode"])(T,{prop:"casecarno",label:"個案車代號",align:"center"}),Object(n["createVNode"])(T,{label:"操作"},{default:Object(n["withCtx"])((function(e){return[Object(n["createVNode"])(k,{class:"edit_button",onClick:function(t){return v.showEditDialon(e.row.casecarId)}},{default:Object(n["withCtx"])((function(){return[i]})),_:2},1032,["onClick"]),Object(n["createVNode"])(k,{class:"delete_button",onClick:function(t){return v.deleteCasecar(e.row.casecarno)}},{default:Object(n["withCtx"])((function(){return[d]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data","onExpandChange"]),Object(n["createVNode"])(R,{"current-page":D.queryInfo.pageno,"page-size":D.queryInfo.pagesize,layout:"total, prev, pager, next, jumper",total:D.total,onCurrentChange:v.handleCurrentChange},null,8,["current-page","page-size","total","onCurrentChange"]),Object(n["createVNode"])(M,{modelValue:D.addDialogVisible,"onUpdate:modelValue":t[7]||(t[7]=function(e){return D.addDialogVisible=e}),onClose:v.addDialogClosed,width:"60%",title:"添加個案車"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(q,{ref:"addFormRef",model:D.addForm,"label-width":"120px",rules:D.addFormRules},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])($,{label:"個案車代號",prop:"casecarno",style:{width:"90%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(E,{modelValue:D.addForm.casecarno,"onUpdate:modelValue":t[2]||(t[2]=function(e){return D.addForm.casecarno=e})},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"]),Object(n["createVNode"])(U,{class:"box-card",style:{width:"80%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(q,{rules:D.addFormRules},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(I,{gutter:"10"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(F,{span:"2"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])($,{label:"盤包代號"})]})),_:1}),Object(n["createVNode"])(F,{span:5},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(E,{modelValue:D.inputData.setno,"onUpdate:modelValue":t[3]||(t[3]=function(e){return D.inputData.setno=e})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(F,{span:"2",class:"Edit_setno_font"},{default:Object(n["withCtx"])((function(){return[l]})),_:1}),Object(n["createVNode"])(F,{span:5},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(E,{modelValue:D.inputData.setnamech,"onUpdate:modelValue":t[4]||(t[4]=function(e){return D.inputData.setnamech=e})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(F,{class:"Edit_setno_font",span:"2"},{default:Object(n["withCtx"])((function(){return[u]})),_:1}),Object(n["createVNode"])(F,{span:3},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(E,{modelValue:D.inputData.num,"onUpdate:modelValue":t[5]||(t[5]=function(e){return D.inputData.num=e})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(F,{class:"Edit_setno_font",span:"2"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(A,{href:"http://127.0.0.1:8080/setno_search",target:"_blank"},{default:Object(n["withCtx"])((function(){return[s]})),_:1})]})),_:1}),Object(n["createVNode"])(F,{span:"2",offset:20},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(k,{class:"edit_button",onClick:v.inputSetno},{default:Object(n["withCtx"])((function(){return[b]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1},8,["rules"]),Object(n["createVNode"])(L,{data:D.casecarSetdatas,style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(T,{prop:"csrSetdata3m.setno",label:"盤包代號",width:"180"}),Object(n["createVNode"])(T,{prop:"csrSetdata3m.setnamech",label:"盤包名稱",width:"180"}),Object(n["createVNode"])(T,{prop:"num",label:"數量"}),Object(n["createVNode"])(T,{label:"操作"},{default:Object(n["withCtx"])((function(e){return[Object(n["createVNode"])(k,{class:"delete_button",onClick:function(t){return v.deleteSetno(e.$index)}},{default:Object(n["withCtx"])((function(){return[f]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])]})),_:1})]})),footer:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",h,[Object(n["createVNode"])(k,{class:"edit_button",onClick:v.addCasecar},{default:Object(n["withCtx"])((function(){return[O]})),_:1},8,["onClick"]),Object(n["createVNode"])(k,{type:"info",onClick:t[6]||(t[6]=function(e){return D.addDialogVisible=!1})},{default:Object(n["withCtx"])((function(){return[j]})),_:1})])]})),_:1},8,["modelValue","onClose"]),Object(n["createVNode"])(M,{modelValue:D.editDialogVisible,"onUpdate:modelValue":t[13]||(t[13]=function(e){return D.editDialogVisible=e}),onClose:v.editDialogClosed,width:"60%",title:"修改個案車"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(q,{ref:"addFormRef",model:D.addForm,"label-width":"120px",rules:D.addFormRules},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])($,{label:"個案車代號",prop:"casecarno"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(E,{modelValue:D.addForm.casecarno,"onUpdate:modelValue":t[8]||(t[8]=function(e){return D.addForm.casecarno=e}),style:{width:"89%"}},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"]),Object(n["createVNode"])(U,{class:"box-card",style:{width:"80%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(q,{"label-width":"120px",rules:D.addFormRules},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(I,{gutter:"10"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(F,{span:"3"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])($,{label:"盤包代號"})]})),_:1}),Object(n["createVNode"])(F,{span:5},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(E,{modelValue:D.inputData.setno,"onUpdate:modelValue":t[9]||(t[9]=function(e){return D.inputData.setno=e})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(F,{class:"Edit_setno_font",span:"2"},{default:Object(n["withCtx"])((function(){return[p]})),_:1}),Object(n["createVNode"])(F,{span:5},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(E,{modelValue:D.inputData.setnamech,"onUpdate:modelValue":t[10]||(t[10]=function(e){return D.inputData.setnamech=e})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(F,{class:"Edit_setno_font",span:"2"},{default:Object(n["withCtx"])((function(){return[m]})),_:1}),Object(n["createVNode"])(F,{span:3},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(E,{modelValue:D.inputData.num,"onUpdate:modelValue":t[11]||(t[11]=function(e){return D.inputData.num=e})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(F,{class:"Edit_setno_font",span:"2"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(A,{href:"http://127.0.0.1:8080/setno_search",target:"_blank"},{default:Object(n["withCtx"])((function(){return[V]})),_:1})]})),_:1}),Object(n["createVNode"])(F,{span:"4",offset:20},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(k,{class:"edit_button",onClick:v.inputSetno},{default:Object(n["withCtx"])((function(){return[C]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1},8,["rules"]),Object(n["createVNode"])(L,{data:D.casecarSetdatas,style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(T,{prop:"csrSetdata3m.setno",label:"盤包代號",width:"180"}),Object(n["createVNode"])(T,{prop:"csrSetdata3m.setnamech",label:"盤包名稱",width:"180"}),Object(n["createVNode"])(T,{prop:"num",label:"數量"}),Object(n["createVNode"])(T,{label:"操作"},{default:Object(n["withCtx"])((function(e){return[Object(n["createVNode"])(k,{class:"delete_button",onClick:function(t){return v.deleteSetno(e.$index)}},{default:Object(n["withCtx"])((function(){return[N]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])]})),_:1})]})),footer:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",x,[Object(n["createVNode"])(k,{class:"edit_button",onClick:v.editCasecar},{default:Object(n["withCtx"])((function(){return[w]})),_:1},8,["onClick"]),Object(n["createVNode"])(k,{type:"info",onClick:t[12]||(t[12]=function(e){return D.addDialogVisible=!1})},{default:Object(n["withCtx"])((function(){return[_]})),_:1})])]})),_:1},8,["modelValue","onClose"])])}a("ac1f"),a("1276"),a("d3b7"),a("a9e3"),a("a434");var D={data:function(){return{queryInfo:{searchName:"",pageno:"",pagesize:""},inputData:{},casecarList:[],casecarSetdatas:[],total:"",addDialogVisible:!1,editDialogVisible:!1,addForm:{},addFormRules:{casecarno:[{required:!0,message:"請輸入個案車代號...",trigger:"blur"}]}}},created:function(){this.getCasecarList()},methods:{getCasecarList:function(){var e=this;this.queryInfo.searchName=this.queryInfo.searchName.toUpperCase(),this.$axios.get("/casecar",this.queryInfo).then((function(t){e.total=t.data.data.total,e.casecarList=t.data.data.list}))},handleCurrentChange:function(e){this.queryInfo.pageno=e,this.getCasecarList()},addDialogClosed:function(){this.addForm={},this.inputData={},this.casecarSetdatas=[]},editDialogClosed:function(){this.addForm={},this.inputData={},this.casecarSetdatas=[]},addCasecar:function(){var e=this;this.$refs.addFormRef.validate((function(t){t&&(e.addForm.casecarSetdatas=e.casecarSetdatas,e.$axios.post("/casecar",e.addForm).then((function(){e.addDialogVisible=!1,e.getCasecarList()})))}))},editCasecar:function(){var e=this;this.$refs.addFormRef.validate((function(t){t&&(e.addForm.casecarSetdatas=e.casecarSetdatas,e.$axios.put("/casecar/"+e.addForm.casecarId,e.addForm).then((function(){e.editDialogVisible=!1,e.getCasecarList()})))}))},showEditDialon:function(e){var t=this;this.$axios.get("/casecar/"+e).then((function(e){t.addForm=e.data.data,t.casecarSetdatas=e.data.data.casecarSetdatas,console.log(t.addForm)})),this.editDialogVisible=!0},deleteCasecar:function(e){var t=this;this.$msgbox.confirm("確定要刪除 "+e+" ?","刪除",{cancelButtonText:"取消",confirmButtonText:"確定",type:"warning"}).then((function(){t.$axios.remove("/casecar/"+e).then((function(){t.getCasecarList()}))})).catch((function(){}))},inputSetno:function(){var e=this;if(isNaN(this.inputData.num))return!0;var t=0;if(this.setnoCheckList=localStorage.getItem("setnoAll").split(","),this.casecarSetdatas.some((function(a){a.csrSetdata3m.setno===e.inputData.setno&&(a.num=Number(a.num)+Number(e.inputData.num),t+=1)})),0!==t)return!0;this.setnoCheckList.some((function(t){if(t===e.inputData.setno)return e.casecarSetdatas.push({csrSetdata3m:{setno:e.inputData.setno,setnamech:e.inputData.setnamech},num:e.inputData.num}),!0}))},deleteSetno:function(e){this.casecarSetdatas.splice(e,1)},showCasecarDetail:function(e){var t=this;this.$axios.get("/casecar/"+e.casecarId).then((function(e){t.addForm=e.data.data,t.casecarSetdatas=e.data.data.casecarSetdatas}))},closeExpand:function(){document.getElementsByClassName("el-table__expand-icon--expanded")[0]&&this.getCasecarList(),this.addForm={},this.casecarSetdatas=[]}},watch:{"inputData.setno":function(){var e=this;void 0!=this.inputData.setno&&6===this.inputData.setno.length&&(this.inputData.setno=this.inputData.setno.toUpperCase(),this.$axios.get("/setdata/"+this.inputData.setno).then((function(t){null!==t.data.data?e.inputData.setnamech=t.data.data.setnamech:e.inputData.setnamech=""})))}}},v=(a("2d99"),a("6b0d")),S=a.n(v);const y=S()(D,[["render",g]]);t["default"]=y},a434:function(e,t,a){"use strict";var n=a("23e7"),c=a("da84"),o=a("23cb"),r=a("5926"),i=a("07fa"),d=a("7b0b"),l=a("65f0"),u=a("8418"),s=a("1dde"),b=s("splice"),f=c.TypeError,h=Math.max,O=Math.min,j=9007199254740991,p="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!b},{splice:function(e,t){var a,n,c,s,b,m,V=d(this),C=i(V),N=o(e,C),x=arguments.length;if(0===x?a=n=0:1===x?(a=0,n=C-N):(a=x-2,n=O(h(r(t),0),C-N)),C+a-n>j)throw f(p);for(c=l(V,n),s=0;s<n;s++)b=N+s,b in V&&u(c,s,V[b]);if(c.length=n,a<n){for(s=N;s<C-n;s++)b=s+n,m=s+a,b in V?V[m]=V[b]:delete V[m];for(s=C;s>C-n+a;s--)delete V[s-1]}else if(a>n)for(s=C-n;s>N;s--)b=s+n-1,m=s+a-1,b in V?V[m]=V[b]:delete V[m];for(s=0;s<a;s++)V[s+N]=arguments[s+2];return V.length=C-n+a,c}})},a9e3:function(e,t,a){"use strict";var n=a("83ab"),c=a("da84"),o=a("e330"),r=a("94ca"),i=a("6eeb"),d=a("1a2d"),l=a("7156"),u=a("3a9b"),s=a("d9b5"),b=a("c04e"),f=a("d039"),h=a("241c").f,O=a("06cf").f,j=a("9bf2").f,p=a("408a"),m=a("58a8").trim,V="Number",C=c[V],N=C.prototype,x=c.TypeError,w=o("".slice),_=o("".charCodeAt),g=function(e){var t=b(e,"number");return"bigint"==typeof t?t:D(t)},D=function(e){var t,a,n,c,o,r,i,d,l=b(e,"number");if(s(l))throw x("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=m(l),t=_(l,0),43===t||45===t){if(a=_(l,2),88===a||120===a)return NaN}else if(48===t){switch(_(l,1)){case 66:case 98:n=2,c=49;break;case 79:case 111:n=8,c=55;break;default:return+l}for(o=w(l,2),r=o.length,i=0;i<r;i++)if(d=_(o,i),d<48||d>c)return NaN;return parseInt(o,n)}return+l};if(r(V,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var v,S=function(e){var t=arguments.length<1?0:C(g(e)),a=this;return u(N,a)&&f((function(){p(a)}))?l(Object(t),a,S):t},y=n?h(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),k=0;y.length>k;k++)d(C,v=y[k])&&!d(S,v)&&j(S,v,O(C,v));S.prototype=N,N.constructor=S,i(c,V,S)}},d0fd:function(e,t,a){}}]);
//# sourceMappingURL=chunk-518b2557.d53ff222.js.map