{"version":3,"sources":["webpack:///./src/components/admin/box.vue","webpack:///./src/components/admin/box.vue?aa1a"],"names":["style","_createElementVNode","class","_createElementBlock","_hoisted_2","_createVNode","_component_el_card","_component_el_row","gutter","_component_el_col","span","_component_el_input","placeholder","$data","searchName","$event","clearable","onClear","$options","onKeyup","append","_component_el_button","onClick","_component_el_icon","_component_search","_component_el_table","data","_component_el_table_column","type","label","width","prop","default","scope","row","status","_createBlock","_component_el_tag","id","udi","_component_el_pagination","current-page","pageno","page-size","pagesize","layout","total","onCurrentChange","_component_el_dialog","onClose","title","_component_el_form","ref","model","label-width","rules","_component_el_form_item","price","footer","_component_el_switch","queryInfo","boxList","addDialogVisible","editDialogVisible","addForm","fix","addFormRules","required","message","trigger","created","this","getBoxList","methods","$axios","get","then","res","list","handleCurrentChange","newPage","addDialogClosed","$refs","addFormRef","resetFields","editDialogClosed","addBox","validate","valid","post","editPacket","put","showEditDialon","deleteSetno","name","$msgbox","confirm","cancelButtonText","confirmButtonText","remove","catch","__exports__","render"],"mappings":"4IACOA,MAAA,gB,EACHC,gCAAc,UAAV,SAAK,G,+BAsBF,S,+BAUkD,O,+BAE9C,O,+BAGA,O,+BAOA,M,+BAKA,M,GAuCFC,MAAM,iB,+BACsC,M,+BAE5C,M,GAmCAA,MAAM,iB,+BAC0C,M,+BAEhD,M,wtBAlIXC,gCAuIM,MAvIN,EAuIM,CAtIJC,EAEAC,yBA6DUC,EAAA,CA7DDJ,MAAM,YAAU,C,8BACvB,iBAqBS,CArBTG,yBAqBSE,EAAA,CArBAC,OAAQ,IAAE,C,8BACjB,iBAeS,CAfTH,yBAeSI,EAAA,CAfAC,KAAM,GAAC,C,8BAEd,iBAYW,CAZXL,yBAYWM,EAAA,CAXTC,YAAY,Q,WACHC,YAAUC,W,qDAAVD,YAAUC,WAAUC,IAC7BC,UAAA,GACCC,QAAOC,aACPC,QAAK,sBAAQD,aAAU,YAL1B,CAOaE,OAAM,sBACf,iBAEY,CAFZf,yBAEYgB,EAAA,CAFDnB,MAAM,gBAAiBoB,QAAOJ,cAAzC,C,8BACE,iBAA6B,CAA7Bb,yBAA6BkB,EAAA,M,8BAApB,iBAAU,CAAVlB,yBAAUmB,O,eADrB,mB,KARJ,0C,MAcFnB,yBAA6BI,EAAA,CAApBC,KAAM,KACfL,yBAECgB,EAAA,CAFUnB,MAAM,cAAeoB,QAAK,+BAAET,oBAAgB,KAAvD,C,8BACG,iBAAK,O,gBAIVR,yBA2BWoB,EAAA,CA3BAC,KAAMb,UAASb,MAAA,gBAA1B,C,8BACE,iBAAsD,CAAtDK,yBAAsDsB,EAAA,CAArCC,KAAK,QAAQC,MAAM,KAAKC,MAAM,OAC/CzB,yBAA4CsB,EAAA,CAA3BI,KAAK,MAAMF,MAAM,UAClCxB,yBAA2CsB,EAAA,CAA1BI,KAAK,QAAQF,MAAM,OACpCxB,yBAUkBsB,EAAA,CAVDI,KAAK,SAASF,MAAM,MAArC,CACaG,QAAO,sBAChB,SADkBC,GAClB,MADuB,CACO,GAAhBA,EAAMC,IAAIC,QAAM,yBAA9BC,yBAA6DC,EAAA,C,MAAxBT,KAAK,QAA1C,C,8BAAiD,iBAAG,O,OACjB,GAAhBK,EAAMC,IAAIC,QAAM,yBAAnCC,yBAECC,EAAA,C,MAFyCT,KAAK,WAA/C,C,8BACG,iBAAG,O,OAE6B,GAAhBK,EAAMC,IAAIC,QAAM,yBAAnCC,yBAECC,EAAA,C,MAFyCT,KAAK,WAA/C,C,8BACG,iBAAG,O,OADN,2C,MAKJvB,yBAWkBsB,EAAA,CAXDE,MAAM,MAAI,CACdG,QAAO,sBAChB,SADkBC,GAClB,MADuB,CACvB5B,yBAECgB,EAAA,CAFUnB,MAAM,cAAeoB,QAAK,mBAAEJ,iBAAee,EAAMC,IAAII,MAAhE,C,8BACG,iBAAE,O,KADL,kBAGAjC,yBAICgB,EAAA,CAHCnB,MAAM,gBACLoB,QAAK,mBAAEJ,cAAYe,EAAMC,IAAII,GAAIL,EAAMC,IAAIK,OAF9C,C,8BAGG,iBAAE,O,KAHL,sB,eApBN,YA6BAlC,yBAOgBmC,EAAA,CANbC,eAAc5B,YAAU6B,OACxBC,YAAW9B,YAAU+B,SACtBC,OAAO,mCACNC,MAAOjC,QACPkC,gBAAgB7B,uBALnB,mE,MAUFb,yBA8BY2C,EAAA,C,WA7BDnC,mB,qDAAAA,mBAAgBE,IACxBkC,QAAO/B,kBACRY,MAAM,MACNoB,MAAM,SAJR,CAOalB,QAAO,sBAChB,iBAYU,CAZV3B,yBAYU8C,EAAA,CAXRC,IAAI,aACHC,MAAOxC,UACRyC,cAAY,QACXC,MAAO1C,gBAJV,C,8BAME,iBAEe,CAFfR,yBAEemD,EAAA,CAFD3B,MAAM,MAAME,KAAK,OAA/B,C,8BACE,iBAA2C,CAA3C1B,yBAA2CM,EAAA,C,WAAxBE,UAAQ0B,I,qDAAR1B,UAAQ0B,IAAGxB,KAA9B,2B,MAEFV,yBAEemD,EAAA,CAFD3B,MAAM,KAAKE,KAAK,SAA9B,C,8BACE,iBAA6C,CAA7C1B,yBAA6CM,EAAA,C,WAA1BE,UAAQ4C,M,qDAAR5C,UAAQ4C,MAAK1C,KAAhC,2B,eAVJ,yBAcS2C,OAAM,sBACf,iBAKM,CALNzD,gCAKM,MALN,EAKM,CAJJI,yBAA6DgB,EAAA,CAAlDnB,MAAM,cAAeoB,QAAOJ,UAAvC,C,8BAA+C,iBAAE,O,KAAjD,eACAb,yBAECgB,EAAA,CAFUO,KAAK,OAAQN,QAAK,+BAAET,oBAAgB,KAA/C,C,8BACG,iBAAE,O,iBA1BX,4BAgCAR,yBAoCY2C,EAAA,C,WAnCDnC,oB,uDAAAA,oBAAiBE,IACzBkC,QAAO/B,mBACRY,MAAM,MACNoB,MAAM,SAJR,CAOalB,QAAO,sBAChB,iBAkBU,CAlBV3B,yBAkBU8C,EAAA,CAjBRC,IAAI,aACHC,MAAOxC,UACRyC,cAAY,QACXC,MAAO1C,gBAJV,C,8BAME,iBAEe,CAFfR,yBAEemD,EAAA,CAFD3B,MAAM,MAAME,KAAK,OAA/B,C,8BACE,iBAA2C,CAA3C1B,yBAA2CM,EAAA,C,WAAxBE,UAAQ0B,I,qDAAR1B,UAAQ0B,IAAGxB,KAA9B,2B,MAEFV,yBAEemD,EAAA,CAFD3B,MAAM,KAAKE,KAAK,SAA9B,C,8BACE,iBAA6C,CAA7C1B,yBAA6CM,EAAA,C,WAA1BE,UAAQ4C,M,qDAAR5C,UAAQ4C,MAAK1C,KAAhC,2B,MAEgC,GAAdF,UAAQsB,QAAM,yBAAlCC,yBAKeoB,EAAA,C,MAL0B3B,MAAM,MAAME,KAAK,UAA1D,C,8BACE,iBAGY,CAHZ1B,yBAGYsD,EAAA,C,WAFD9C,M,qDAAAA,MAAGE,KADd,2B,OADF,2C,KAZF,yBAoBS2C,OAAM,sBACf,iBAKM,CALNzD,gCAKM,MALN,EAKM,CAJJI,yBAAiEgB,EAAA,CAAtDnB,MAAM,cAAeoB,QAAOJ,cAAvC,C,8BAAmD,iBAAE,O,KAArD,eACAb,yBAECgB,EAAA,CAFUO,KAAK,OAAQN,QAAK,+BAAET,qBAAiB,KAAhD,C,8BACG,iBAAE,O,iBAhCX,8BAyCW,OACba,KADa,WAEX,MAAO,CACLkC,UAAW,CACT9C,WAAY,GACZ4B,OAAQ,GACRE,SAAU,IAEZiB,QAAS,GACTf,MAAO,GACPgB,kBAAkB,EAClBC,mBAAmB,EACnBC,QAAS,GACTC,IAAI,GACJC,aAAc,CACZ3B,IAAK,CAAC,CAAE4B,UAAU,EAAMC,QAAS,WAAYC,QAAS,SACtDZ,MAAO,CAAC,CAAEU,UAAU,EAAMC,QAAS,WAAYC,QAAS,SACxDlC,OAAQ,CAAC,CAAEgC,UAAU,EAAMC,QAAS,WAAYC,QAAS,YAI/DC,QArBa,WAsBXC,KAAKC,cAEPC,QAAS,CAEPD,WAFO,WAEM,WACXD,KAAKG,OAAOC,IAAI,OAAQJ,KAAKX,WAAWgB,MAAK,SAACC,GAC5C,EAAK/B,MAAQ+B,EAAInD,KAAKA,KAAKoB,MAC3B,EAAKe,QAAUgB,EAAInD,KAAKA,KAAKoD,SAIjCC,oBATO,SASaC,GAClBT,KAAKX,UAAUlB,OAASsC,EACxBT,KAAKC,cAGPS,gBAdO,WAeLV,KAAKW,MAAMC,WAAWC,cACtBb,KAAKP,QAAU,IAGjBqB,iBAnBO,WAoBLd,KAAKW,MAAMC,WAAWC,cACtBb,KAAKP,QAAU,IAGjBsB,OAxBO,WAwBE,WACPf,KAAKW,MAAMC,WAAWI,UAAS,SAACC,GACzBA,GACL,EAAKd,OAAOe,KAAK,OAAQ,EAAKzB,SAASY,MAAK,WAC1C,EAAKd,kBAAmB,EACxB,EAAKU,oBAKXkB,WAlCO,WAkCM,WACXnB,KAAKW,MAAMC,WAAWI,UAAS,SAACC,GACzBA,IAEF,EAAKvB,IACJ,EAAKD,QAAQ7B,OAAQ,IACN,IAAV,EAAK8B,IACT,EAAKD,QAAQ7B,OAAQ,IAErB,EAAK6B,QAAQ7B,OAAQ,IAE1B,EAAKuC,OAAOiB,IAAI,QAAU,EAAK3B,QAAQ1B,GAAI,EAAK0B,SAASY,MAAK,WAC5D,EAAKb,mBAAoB,EACzB,EAAKS,qBAKXoB,eApDO,SAoDQtD,GAAI,WACjBiC,KAAKG,OAAOC,IAAI,QAAUrC,GAAIsC,MAAK,SAACC,GAClC,EAAKb,QAAUa,EAAInD,KAAKA,KACE,GAAvB,EAAKsC,QAAQ7B,OACZ,EAAK8B,KAAM,EACiB,GAAvB,EAAKD,QAAQ7B,OAClB,EAAK8B,KAAK,EAET,EAAKA,IAAM,MAGlBM,KAAKR,mBAAoB,GAG3B8B,YAlEO,SAkEKvD,EAAIwD,GAAM,WACpBvB,KAAKwB,QACFC,QAAQ,SAAWF,EAAO,KAAM,KAAM,CACrCG,iBAAkB,KAClBC,kBAAmB,KACnBtE,KAAM,YAEPgD,MAAK,WACJ,EAAKF,OAAOyB,OAAO,QAAU7D,GAAIsC,MAAK,WACpC,EAAKJ,mBAGR4B,OAAM,kB,qBC7Of,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"public/js/chunk-2d0c49bb.ce1457ee.js","sourcesContent":["<template>\r\n  <div style=\"width: 100%\">\r\n    <h3>器械盒列表</h3>\r\n    <!--卡片區塊-->\r\n    <el-card class=\"box-card\">\r\n      <el-row :gutter=\"24\">\r\n        <el-col :span=\"8\">\r\n          <!--輸入框-->\r\n          <el-input\r\n            placeholder=\"器械盒查詢\"\r\n            v-model=\"queryInfo.searchName\"\r\n            clearable\r\n            @clear=\"getBoxList\"\r\n            @keyup.enter=\"getBoxList\"\r\n          >\r\n            <template #append>\r\n              <el-button class=\"search_button\" @click=\"getBoxList\">\r\n                <el-icon><search /></el-icon>\r\n              </el-button>\r\n            </template>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"12\"> </el-col>\r\n        <el-button class=\"edit_button\" @click=\"addDialogVisible = true\"\r\n          >新增器械盒</el-button\r\n        >\r\n      </el-row>\r\n      <!--列表-->\r\n      <el-table :data=\"boxList\" style=\"width: 100%\">\r\n        <el-table-column type=\"index\" label=\"編號\" width=\"80\" />\r\n        <el-table-column prop=\"udi\" label=\"器械盒代號\" />\r\n        <el-table-column prop=\"price\" label=\"成本\" />\r\n        <el-table-column prop=\"status\" label=\"狀態\">\r\n          <template #default=\"scope\">\r\n            <el-tag v-if=\"scope.row.status == 1\" type=\"info\">待使用</el-tag>\r\n            <el-tag v-else-if=\"scope.row.status == 2\" type=\"success\"\r\n              >使用中</el-tag\r\n            >\r\n            <el-tag v-else-if=\"scope.row.status == 3\" type=\"warning\"\r\n              >維修中</el-tag\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template #default=\"scope\">\r\n            <el-button class=\"edit_button\" @click=\"showEditDialon(scope.row.id)\"\r\n              >修改</el-button\r\n            >\r\n            <el-button\r\n              class=\"delete_button\"\r\n              @click=\"deleteSetno(scope.row.id, scope.row.udi)\"\r\n              >刪除</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!--分頁-->\r\n      <el-pagination\r\n        :current-page=\"queryInfo.pageno\"\r\n        :page-size=\"queryInfo.pagesize\"\r\n        layout=\"total, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n        @current-change=\"handleCurrentChange\"\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n    <!--新增-->\r\n    <el-dialog\r\n      v-model=\"addDialogVisible\"\r\n      @close=\"addDialogClosed\"\r\n      width=\"40%\"\r\n      title=\"添加器械盒\"\r\n    >\r\n      <!--表單驗證-->\r\n      <template #default>\r\n        <el-form\r\n          ref=\"addFormRef\"\r\n          :model=\"addForm\"\r\n          label-width=\"120px\"\r\n          :rules=\"addFormRules\"\r\n        >\r\n          <el-form-item label=\"UDI\" prop=\"udi\">\r\n            <el-input v-model=\"addForm.udi\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"成本\" prop=\"price\">\r\n            <el-input v-model=\"addForm.price\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </template>\r\n      <template #footer>\r\n        <div class=\"dialog-footer\">\r\n          <el-button class=\"edit_button\" @click=\"addBox\">確定</el-button>\r\n          <el-button type=\"info\" @click=\"addDialogVisible = false\"\r\n            >取消</el-button\r\n          >\r\n        </div>\r\n      </template>\r\n    </el-dialog>\r\n    <!--修改_對話框-->\r\n    <el-dialog\r\n      v-model=\"editDialogVisible\"\r\n      @close=\"editDialogClosed\"\r\n      width=\"40%\"\r\n      title=\"修改器械盒\"\r\n    >\r\n      <!--表單驗證-->\r\n      <template #default>\r\n        <el-form\r\n          ref=\"addFormRef\"\r\n          :model=\"addForm\"\r\n          label-width=\"120px\"\r\n          :rules=\"addFormRules\"\r\n        >\r\n          <el-form-item label=\"UDI\" prop=\"udi\">\r\n            <el-input v-model=\"addForm.udi\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"成本\" prop=\"price\">\r\n            <el-input v-model=\"addForm.price\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item v-if=\"addForm.status != 2\" label=\"維修中\" prop=\"status\">\r\n            <el-switch\r\n              v-model=\"fix\"\r\n            >\r\n            </el-switch>\r\n          </el-form-item>\r\n        </el-form>\r\n      </template>\r\n      <template #footer>\r\n        <div class=\"dialog-footer\">\r\n          <el-button class=\"edit_button\" @click=\"editPacket\">確定</el-button>\r\n          <el-button type=\"info\" @click=\"editDialogVisible = false\"\r\n            >取消</el-button\r\n          >\r\n        </div>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      queryInfo: {\r\n        searchName: \"\",\r\n        pageno: \"\",\r\n        pagesize: \"\",\r\n      },\r\n      boxList: [],\r\n      total: \"\",\r\n      addDialogVisible: false,\r\n      editDialogVisible: false,\r\n      addForm: {},\r\n      fix:\"\",\r\n      addFormRules: {\r\n        udi: [{ required: true, message: \"請輸入代號...\", trigger: \"blur\" }],\r\n        price: [{ required: true, message: \"請輸入名稱...\", trigger: \"blur\" }],\r\n        status: [{ required: true, message: \"請輸入日期...\", trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.getBoxList();\r\n  },\r\n  methods: {\r\n    /**列表查詢 */\r\n    getBoxList() {\r\n      this.$axios.get(\"/box\", this.queryInfo).then((res) => {\r\n        this.total = res.data.data.total;\r\n        this.boxList = res.data.data.list;\r\n      });\r\n    },\r\n    /**監聽頁面刷新 */\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pageno = newPage;\r\n      this.getBoxList();\r\n    },\r\n    /**清空訊息 */\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields();\r\n      this.addForm = {};\r\n    },\r\n    /**清空訊息 */\r\n    editDialogClosed() {\r\n      this.$refs.addFormRef.resetFields();\r\n      this.addForm = {};\r\n    },\r\n    /**新增盤包 */\r\n    addBox() {\r\n      this.$refs.addFormRef.validate((valid) => {\r\n        if (!valid) return;\r\n        this.$axios.post(\"/box\", this.addForm).then(() => {\r\n          this.addDialogVisible = false;\r\n          this.getBoxList();\r\n        });\r\n      });\r\n    },\r\n    /**編輯 */\r\n    editPacket() {\r\n      this.$refs.addFormRef.validate((valid) => {\r\n        if (!valid) return;\r\n        \r\n        if(this.fix){\r\n            this.addForm.status =\"3\"\r\n        }else if(this.fix==\"\"){\r\n             this.addForm.status =\"2\"\r\n        }else{\r\n             this.addForm.status =\"1\"\r\n        }\r\n        this.$axios.put(\"/box/\" + this.addForm.id, this.addForm).then(() => {\r\n          this.editDialogVisible = false;\r\n          this.getBoxList();\r\n        });\r\n      });\r\n    },\r\n    /**顯示修改資料 */\r\n    showEditDialon(id) {\r\n      this.$axios.get(\"/box/\" + id).then((res) => {\r\n        this.addForm = res.data.data;\r\n        if(this.addForm.status == 3){\r\n            this.fix = true\r\n        }else if(this.addForm.status == 1){\r\n            this.fix =false\r\n        }else {\r\n             this.fix = \"\"\r\n        }\r\n      });\r\n      this.editDialogVisible = true;\r\n    },\r\n    /**刪除 */\r\n    deleteSetno(id, name) {\r\n      this.$msgbox\r\n        .confirm(\"確定要刪除 \" + name + \" ?\", \"刪除\", {\r\n          cancelButtonText: \"取消\",\r\n          confirmButtonText: \"確定\",\r\n          type: \"warning\",\r\n        })\r\n        .then(() => {\r\n          this.$axios.remove(\"/box/\" + id).then(() => {\r\n            this.getBoxList();\r\n          });\r\n        })\r\n        .catch(() => {\r\n          //nothing to do\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scope>\r\n</style>","import { render } from \"./box.vue?vue&type=template&id=1cea5b0a\"\nimport script from \"./box.vue?vue&type=script&lang=js\"\nexport * from \"./box.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\vue_workspace\\\\cgpt-s-202211210001-f\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}