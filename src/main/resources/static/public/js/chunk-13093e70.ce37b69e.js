(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13093e70"],{"19cd":function(e,t,n){"use strict";n("37a4")},"37a4":function(e,t,n){},bd38:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),o=Object(a["createElementVNode"])("h3",null,"盤包序號維護",-1),d=Object(a["createTextVNode"])("修改"),c=Object(a["createTextVNode"])("刪除"),r={class:"contain_center"},i=Object(a["createTextVNode"])("盤包名稱"),l=Object(a["createTextVNode"])("盤包序號"),u=Object(a["createTextVNode"])("查詢盤包代號"),s=Object(a["createTextVNode"])("新增"),b=Object(a["createTextVNode"])("修改"),m=Object(a["createTextVNode"])("刪除"),f={class:"udiList"},h={class:"udiList"};function j(e,t,n,j,O,p){var C=this,V=Object(a["resolveComponent"])("search"),g=Object(a["resolveComponent"])("el-icon"),N=Object(a["resolveComponent"])("el-button"),v=Object(a["resolveComponent"])("el-input"),_=Object(a["resolveComponent"])("el-col"),x=Object(a["resolveComponent"])("el-row"),w=Object(a["resolveComponent"])("el-table-column"),F=Object(a["resolveComponent"])("el-table"),y=Object(a["resolveComponent"])("el-pagination"),q=Object(a["resolveComponent"])("el-tab-pane"),I=Object(a["resolveComponent"])("el-form-item"),E=Object(a["resolveComponent"])("el-link"),U=Object(a["resolveComponent"])("el-form"),k=Object(a["resolveComponent"])("el-transfer"),S=Object(a["resolveComponent"])("el-tabs"),L=Object(a["resolveComponent"])("el-card");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[o,Object(a["createVNode"])(L,{class:"box-card"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(S,{modelValue:e.tabChange,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.tabChange=t}),type:"card",onTabClick:p.clearForm},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(q,{label:"盤包序號列表"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(x,{gutter:100},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(_,{span:8},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(v,{placeholder:"盤包代號",modelValue:O.queryInfo.searchName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return O.queryInfo.searchName=e}),clearable:"",onClear:p.getSeqList,onKeyup:Object(a["withKeys"])(p.getSeqList,["enter"])},{append:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(N,{class:"search_button",onClick:p.getSeqList},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(V)]})),_:1})]})),_:1},8,["onClick"])]})),_:1},8,["modelValue","onClear","onKeyup"])]})),_:1}),Object(a["createVNode"])(_,{span:12})]})),_:1}),Object(a["createVNode"])(F,{data:O.seqList,style:{width:"100%"}},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(w,{type:"index",label:"編號",width:"80"}),Object(a["createVNode"])(w,{prop:"setno",label:"盤包代號"}),Object(a["createVNode"])(w,{prop:"setnamech",label:"盤包名稱"}),Object(a["createVNode"])(w,{prop:"seq",label:"序號"}),Object(a["createVNode"])(w,{label:"操作"},{default:Object(a["withCtx"])((function(e){return[Object(a["createVNode"])(N,{class:"edit_button",onClick:function(t){return p.showEditTabPan(e.row.id)}},{default:Object(a["withCtx"])((function(){return[d]})),_:2},1032,["onClick"]),Object(a["createVNode"])(N,{class:"delete_button",onClick:function(t){return p.deleteSeq(e.row.id,e.row.setnamech)}},{default:Object(a["withCtx"])((function(){return[c]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),Object(a["createVNode"])(y,{"current-page":O.queryInfo.pageno,"page-size":O.queryInfo.pagesize,layout:"total, prev, pager, next, jumper",total:O.total,onCurrentChange:p.handleCurrentChange},null,8,["current-page","page-size","total","onCurrentChange"])]})),_:1}),Object(a["createVNode"])(q,{label:"盤包序號製作"},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",r,[Object(a["createVNode"])(U,{ref:"addFormRef",model:O.addForm,"label-width":"120px",rules:O.addFormRules},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(x,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(_,{span:"3"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(I,{label:"盤包代號",prop:"setno"})]})),_:1}),Object(a["createVNode"])(_,{span:"2"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(v,{modelValue:O.addForm.setno,"onUpdate:modelValue":t[1]||(t[1]=function(e){return O.addForm.setno=e})},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{class:"Edit_setno_font",span:"2"},{default:Object(a["withCtx"])((function(){return[i]})),_:1}),Object(a["createVNode"])(_,{span:"2"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(v,{modelValue:O.addForm.setnamech,"onUpdate:modelValue":t[2]||(t[2]=function(e){return O.addForm.setnamech=e})},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{class:"Edit_setno_font",span:"2"},{default:Object(a["withCtx"])((function(){return[l]})),_:1}),Object(a["createVNode"])(_,{span:"2"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(v,{modelValue:O.addForm.seq,"onUpdate:modelValue":t[3]||(t[3]=function(e){return O.addForm.seq=e})},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{class:"Edit_setno_font",span:"2"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(E,{href:"http://127.0.0.1:8080/setno_search",target:"_blank"},{default:Object(a["withCtx"])((function(){return[u]})),_:1})]})),_:1}),Object(a["createVNode"])(_,{span:"4",offset:2},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(N,{id:"add_button",class:"edit_button",onClick:p.addSeq},{default:Object(a["withCtx"])((function(){return[s]})),_:1},8,["onClick"]),Object(a["createVNode"])(N,{id:"edit_button",class:"edit_button",onClick:p.editSeq},{default:Object(a["withCtx"])((function(){return[b]})),_:1},8,["onClick"]),Object(a["createVNode"])(N,{class:"delete_button",id:"delete_button",onClick:t[4]||(t[4]=function(e){return p.deleteSeq(C.addForm.id)})},{default:Object(a["withCtx"])((function(){return[m]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["model","rules"]),Object(a["createVNode"])(k,{modelValue:O.value,"onUpdate:modelValue":t[5]||(t[5]=function(e){return O.value=e}),data:O.data,filterable:"","filter-method":e.filterMethod,"filter-placeholder":"UDI代號",titles:["未使用UDI         中文名稱 ","已使用UDI         中文名稱 "]},{default:Object(a["withCtx"])((function(e){var t=e.option;return[Object(a["createElementVNode"])("span",f,Object(a["toDisplayString"])(t.label),1),Object(a["createElementVNode"])("span",h,Object(a["toDisplayString"])(t.cname),1)]})),_:1},8,["modelValue","data","filter-method"])])]})),_:1})]})),_:1},8,["modelValue","onTabClick"])]})),_:1})],64)}n("d3b7"),n("159b");var O={data:function(){return{queryInfo:{searchName:"",pageno:"",pagesize:""},seqList:[],unUDIlist:[],total:"",addForm:{ids:""},addFormRules:{setno:[{required:!0,message:"請輸入盤包代號...",trigger:"blur"}]},value:[],data:[]}},created:function(){this.getSeqList(),this.getUnUDIList()},mounted:function(){window.addEventListener("setItem",(function(e){console.log(e),this.addForm.setno=localStorage.getItem("setno")}))},methods:{getSeqList:function(){var e=this;this.$axios.get("/seq",this.queryInfo).then((function(t){e.total=t.data.data.total,e.seqList=t.data.data.list}))},getUnUDIList:function(){var e=this;this.$axios.get("/seq/un/udi").then((function(t){e.unUDIlist=t.data.data,e.unUDIlist.forEach((function(t){e.data.push({label:t.CODE,key:t.ID,cname:t.CNAME,ename:t.ENAME})}))}))},handleCurrentChange:function(e){this.queryInfo.pageno=e,this.getSeqList()},addSeq:function(){var e=this;this.$refs.addFormRef.validate((function(t){if(t){for(var n=0;n<e.value.length;n++)e.addForm.ids=e.addForm.ids+","+e.value[n];e.addForm.ids=e.addForm.ids.substring(1),e.$axios.post("/seq",e.addForm).then((function(){e.clearForm(),e.getSeqList(),document.getElementById("tab-0").click()}))}}))},editSeq:function(){var e=this;this.$refs.addFormRef.validate((function(t){if(t){for(var n=0;n<e.value.length;n++)e.addForm.ids=e.addForm.ids+","+e.value[n];e.addForm.ids=e.addForm.ids.substring(1),console.log(e.addForm),e.$axios.put("/seq/"+e.addForm.id,e.addForm).then((function(){e.clearForm(),document.getElementById("tab-0").click()}))}}))},showEditTabPan:function(e){var t=this;document.getElementById("tab-1").click(),document.getElementById("add_button").style.visibility="hidden",document.getElementById("edit_button").style.visibility="visible",document.getElementById("delete_button").style.visibility="visible",this.$axios.get("/seq/"+e).then((function(e){t.addForm.id=e.data.data.id,t.addForm.setno=e.data.data.setno,t.addForm.setnamech=e.data.data.setnamech,t.addForm.seq=e.data.data.seq,e.data.data.seqUdi.forEach((function(e){t.data.push({label:e.csrUdi.code,key:e.csrUdi.id,cname:e.csrUdi.cname,ename:e.csrUdi.ename})})),e.data.data.seqUdi.forEach((function(e){t.value.push(e.csrUdi.id)}))}))},deleteSeq:function(e,t){var n=this;this.$msgbox.confirm("確定要刪除 "+t+" ?","刪除",{cancelButtonText:"取消",confirmButtonText:"確定",type:"warning"}).then((function(){n.$axios.remove("/seq/"+e).then((function(){n.clearForm(),n.getSeqList()}))})).catch((function(){}))},clearForm:function(){document.getElementById("add_button").style.visibility="visible",document.getElementById("edit_button").style.visibility="hidden",document.getElementById("delete_button").style.visibility="hidden",this.data=[],this.value=[],this.addForm={ids:""},this.getUnUDIList()}},watch:{"addForm.setno":function(){var e=this;void 0!=this.addForm.setno&&6===this.addForm.setno.length&&(this.addForm.setno=this.addForm.setno.toUpperCase(),this.$axios.get("/setdata/"+this.addForm.setno).then((function(t){null!==t.data.data?e.inputData.setnamech=t.data.data.setnamech:e.inputData.setnamech=""})))}}},p=(n("19cd"),n("6b0d")),C=n.n(p);const V=C()(O,[["render",j]]);t["default"]=V}}]);
//# sourceMappingURL=chunk-13093e70.ce37b69e.js.map