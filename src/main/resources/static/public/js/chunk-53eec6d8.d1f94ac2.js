(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53eec6d8"],{"4b3e":function(e,t,a){},8701:function(e,t,a){"use strict";a("4b3e")},a434:function(e,t,a){"use strict";var o=a("23e7"),n=a("da84"),i=a("23cb"),c=a("5926"),l=a("07fa"),r=a("7b0b"),d=a("65f0"),u=a("8418"),s=a("1dde"),f=s("splice"),b=n.TypeError,p=Math.max,m=Math.min,h=9007199254740991,j="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var a,o,n,s,f,O,g=r(this),V=l(g),C=i(e,V),w=arguments.length;if(0===w?a=o=0:1===w?(a=0,o=V-C):(a=w-2,o=m(p(c(t),0),V-C)),V+a-o>h)throw b(j);for(n=d(g,o),s=0;s<o;s++)f=C+s,f in g&&u(n,s,g[f]);if(n.length=o,a<o){for(s=C;s<V-o;s++)f=s+o,O=s+a,f in g?g[O]=g[f]:delete g[O];for(s=V;s>V-o+a;s--)delete g[s-1]}else if(a>o)for(s=V-o;s>C;s--)f=s+o-1,O=s+a-1,f in g?g[O]=g[f]:delete g[O];for(s=0;s<a;s++)g[s+C]=arguments[s+2];return g.length=V-o+a,n}})},df2b:function(e,t,a){"use strict";a.r(t);var o=a("7a23"),n=Object(o["createElementVNode"])("h3",null,"單一器械列表",-1),i=Object(o["createTextVNode"])("新增器械"),c=Object(o["createTextVNode"])("瀏覽"),l=Object(o["createTextVNode"])("修改"),r=Object(o["createTextVNode"])("刪除"),d=Object(o["createTextVNode"])("圖片及檔案選取"),u={class:"dialog-footer"},s=Object(o["createTextVNode"])("確定"),f=Object(o["createTextVNode"])("取消"),b=Object(o["createTextVNode"])("圖片及檔案選取"),p={class:"dialog-footer"},m=Object(o["createTextVNode"])("確定"),h=Object(o["createTextVNode"])("取消"),j=Object(o["createTextVNode"])("UDI檔案"),O=Object(o["createElementVNode"])("br",null,null,-1),g=Object(o["createTextVNode"])("UDI圖片"),V={class:"dialog-footer"},C=Object(o["createTextVNode"])("關閉");function w(e,t,a,w,x,N){var v=Object(o["resolveComponent"])("search"),y=Object(o["resolveComponent"])("el-icon"),D=Object(o["resolveComponent"])("el-button"),_=Object(o["resolveComponent"])("el-input"),F=Object(o["resolveComponent"])("el-col"),k=Object(o["resolveComponent"])("el-row"),T=Object(o["resolveComponent"])("el-table-column"),U=Object(o["resolveComponent"])("el-table"),I=Object(o["resolveComponent"])("el-pagination"),E=Object(o["resolveComponent"])("el-card"),L=Object(o["resolveComponent"])("el-form-item"),B=Object(o["resolveComponent"])("el-form"),$=Object(o["resolveComponent"])("el-upload"),R=Object(o["resolveComponent"])("el-dialog"),q=Object(o["resolveComponent"])("el-tag"),P=Object(o["resolveComponent"])("el-link"),z=Object(o["resolveComponent"])("el-divider"),H=Object(o["resolveComponent"])("el-image"),S=Object(o["resolveComponent"])("el-tooltip");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[n,Object(o["createVNode"])(E,{class:"box-card"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(k,{gutter:100},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(F,{span:8},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{placeholder:"單一器械代號",modelValue:x.queryInfo.searchName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return x.queryInfo.searchName=e}),clearable:"",onClear:N.getUDIList,onKeyup:Object(o["withKeys"])(N.getUDIList,["enter"])},{append:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(D,{class:"search_button",onClick:N.getUDIList},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v)]})),_:1})]})),_:1},8,["onClick"])]})),_:1},8,["modelValue","onClear","onKeyup"])]})),_:1}),Object(o["createVNode"])(F,{span:12}),Object(o["createVNode"])(D,{class:"edit_button",onClick:t[1]||(t[1]=function(e){return x.addDialogVisible=!0})},{default:Object(o["withCtx"])((function(){return[i]})),_:1})]})),_:1}),Object(o["createVNode"])(U,{data:x.UDIList,style:{width:"100%"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(T,{type:"index",label:"編號",width:"100"}),Object(o["createVNode"])(T,{prop:"code",label:"UDI器械代號"}),Object(o["createVNode"])(T,{prop:"cname",label:"中文名稱"}),Object(o["createVNode"])(T,{prop:"ename",label:"英文名稱"}),Object(o["createVNode"])(T,{label:"操作"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(D,{type:"primary",onClick:function(t){return N.showFile(e.row.id)}},{default:Object(o["withCtx"])((function(){return[c]})),_:2},1032,["onClick"]),Object(o["createVNode"])(D,{class:"edit_button",onClick:function(t){return N.showEditDialog(e.row.id)}},{default:Object(o["withCtx"])((function(){return[l]})),_:2},1032,["onClick"]),Object(o["createVNode"])(D,{class:"delete_button",onClick:function(t){return N.deleteudi(e.row.id,e.row.setnamech)}},{default:Object(o["withCtx"])((function(){return[r]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),Object(o["createVNode"])(I,{"current-page":x.queryInfo.pageno,"page-size":x.queryInfo.pagesize,layout:"total, prev, pager, next, jumper",total:x.total,onCurrentChange:N.handleCurrentChange},null,8,["current-page","page-size","total","onCurrentChange"])]})),_:1}),Object(o["createVNode"])(R,{modelValue:x.addDialogVisible,"onUpdate:modelValue":t[6]||(t[6]=function(e){return x.addDialogVisible=e}),onClose:N.addDialogClosed,width:"40%",title:"添加器械"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(B,{ref:"addFormRef",model:x.addForm,"label-width":"120px",rules:x.addFormRules},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(L,{label:"UDI單一器械代號",prop:"code","label-width":"100"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{modelValue:x.addForm.code,"onUpdate:modelValue":t[2]||(t[2]=function(e){return x.addForm.code=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(L,{label:"中文名稱",prop:"cname"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{modelValue:x.addForm.cname,"onUpdate:modelValue":t[3]||(t[3]=function(e){return x.addForm.cname=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(L,{label:"英文名稱",prop:"ename"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{modelValue:x.addForm.ename,"onUpdate:modelValue":t[4]||(t[4]=function(e){return x.addForm.ename=e})},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"]),Object(o["createVNode"])($,{class:"upload-demo",ref:"upload",action:"","on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1,"on-change":N.handleShowImage,multiple:""},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(D,{type:"primary"},{default:Object(o["withCtx"])((function(){return[d]})),_:1})]})),_:1},8,["on-preview","on-remove","file-list","on-change"])]})),footer:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",u,[Object(o["createVNode"])(D,{class:"edit_button",onClick:N.addUDI},{default:Object(o["withCtx"])((function(){return[s]})),_:1},8,["onClick"]),Object(o["createVNode"])(D,{type:"info",onClick:t[5]||(t[5]=function(e){return x.addDialogVisible=!1})},{default:Object(o["withCtx"])((function(){return[f]})),_:1})])]})),_:1},8,["modelValue","onClose"]),Object(o["createVNode"])(R,{modelValue:x.editDialogVisible,"onUpdate:modelValue":t[11]||(t[11]=function(e){return x.editDialogVisible=e}),onClose:N.editDialogClosed,width:"40%",title:"修改器械"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(B,{ref:"addFormRef",model:x.addForm,"label-width":"120px",rules:x.addFormRules},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(L,{label:"UDI單一器械代號",prop:"code","label-width":"100"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{modelValue:x.addForm.code,"onUpdate:modelValue":t[7]||(t[7]=function(e){return x.addForm.code=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(L,{label:"中文名稱",prop:"cname"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{modelValue:x.addForm.cname,"onUpdate:modelValue":t[8]||(t[8]=function(e){return x.addForm.cname=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(L,{label:"英文名稱",prop:"ename"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{modelValue:x.addForm.ename,"onUpdate:modelValue":t[9]||(t[9]=function(e){return x.addForm.ename=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(L,{label:"已存在檔案"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(x.dynamicTags,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(q,{key:e,closable:"","disable-transitions":!1,onClose:function(t){return N.deleteFile(x.addForm.id,e)}},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("a",null,Object(o["toDisplayString"])(e.substring(14)),1)]})),_:2},1032,["onClose"])})),128))]})),_:1})]})),_:1},8,["model","rules"]),Object(o["createVNode"])($,{class:"upload-dem",ref:"editUpload",action:"","on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1,"on-change":N.handleShowImage,multiple:""},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(D,{size:"small",type:"primary"},{default:Object(o["withCtx"])((function(){return[b]})),_:1})]})),_:1},8,["on-preview","on-remove","file-list","on-change"])]})),footer:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",p,[Object(o["createVNode"])(D,{class:"edit_button",onClick:N.editUDI},{default:Object(o["withCtx"])((function(){return[m]})),_:1},8,["onClick"]),Object(o["createVNode"])(D,{type:"info",onClick:t[10]||(t[10]=function(e){return x.editDialogVisible=!1})},{default:Object(o["withCtx"])((function(){return[h]})),_:1})])]})),_:1},8,["modelValue","onClose"]),Object(o["createVNode"])(R,{modelValue:x.fileDialogVisible,"onUpdate:modelValue":t[13]||(t[13]=function(e){return x.fileDialogVisible=e}),onClose:N.fileDialogClosed,width:"30%",title:"圖檔"},{footer:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",V,[Object(o["createVNode"])(D,{type:"info",onClick:t[12]||(t[12]=function(e){return x.fileDialogVisible=!1})},{default:Object(o["withCtx"])((function(){return[C]})),_:1})])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(k,{type:"flex"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(F,{span:18},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(x.files,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t},[Object(o["createVNode"])(P,{type:"primary",href:e},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.substring(46)),1)]})),_:2},1032,["href"]),Object(o["createVNode"])(z,{"content-position":"right"},{default:Object(o["withCtx"])((function(){return[j]})),_:1})])})),128)),O]})),_:1})]})),_:1}),Object(o["createVNode"])(k,{justify:"center"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(F,{span:18},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(x.urls,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e,class:"demo-image__lazy"},[Object(o["createVNode"])(S,{content:e.substring(46),placement:"top"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(H,{src:e,lazy:""},null,8,["src"])]})),_:2},1032,["content"]),Object(o["createVNode"])(z,{"content-position":"right"},{default:Object(o["withCtx"])((function(){return[g]})),_:1})])})),128))]})),_:1})]})),_:1})]})),_:1},8,["modelValue","onClose"])],64)}a("d3b7"),a("159b"),a("a434");var x={data:function(){return{queryInfo:{searchName:"",pageno:"",pagesize:""},UDIList:[],total:"",addDialogVisible:!1,editDialogVisible:!1,fileDialogVisible:!1,addForm:{},dynamicTags:[],urls:[],files:[],addFormRules:{code:[{required:!0,message:"請輸入代號...",trigger:"blur"}],cname:[{required:!0,message:"請輸入中文名稱...",trigger:"blur"}],ename:[{required:!0,message:"請輸入英文名稱...",trigger:"blur"}]}}},created:function(){this.getUDIList()},methods:{getUDIList:function(){var e=this;this.$axios.get("/udi",this.queryInfo).then((function(t){e.total=t.data.data.total,e.UDIList=t.data.data.list}))},handleCurrentChange:function(e){this.queryInfo.pageno=e,this.getUDIList()},addDialogClosed:function(){this.$refs.addFormRef.resetFields(),this.$refs.upload.clearFiles(),this.dynamicTags=[]},editDialogClosed:function(){this.$refs.addFormRef.resetFields(),this.$refs.editUpload.clearFiles(),this.dynamicTags=[]},fileDialogClosed:function(){this.urls=[],this.files=[]},handleShowImage:function(e,t){this.fileList=t},addUDI:function(){var e=this;this.$refs.addFormRef.validate((function(t){if(t){var a=new FormData,o=0;e.fileList.forEach((function(e,t){console.log(e.raw.type),"image/png"===e.raw.type||"image/jpeg"==e.raw.type?a.append("pic"+(t+1-o),e.raw):a.append("file"+(t+1-o),e.raw),o+=1})),a.append("code",e.addForm.code),a.append("cname",e.addForm.cname),a.append("ename",e.addForm.ename),e.$axios.post("/udi",a,{Loading:!0,isUpload:!0}).then((function(){e.addDialogClosed(),e.addDialogVisible=!1,e.getUDIList()}))}}))},editUDI:function(){var e=this;this.$refs.addFormRef.validate((function(t){if(t){var a=new FormData,o=0;e.fileList.forEach((function(e,t){"image/png"===e.raw.type||"image/jpeg"==e.raw.type?a.append("pic"+(t+1-o),e.raw):a.append("file"+(t+1-o),e.raw),o+=1})),a.append("code",e.addForm.code),a.append("cname",e.addForm.cname),a.append("ename",e.addForm.ename),e.$axios.put("/udi/"+e.addForm.id,a,{Loading:!0,isUpload:!0}).then((function(){e.editDialogClosed(),e.editDialogVisible=!1,e.getUDIList()}))}}))},showEditDialog:function(e){var t=this;this.$axios.get("/udi/"+e).then((function(e){t.addForm=e.data.data,e.data.data.picpath1&&t.dynamicTags.push(e.data.data.picpath1),e.data.data.picpath2&&t.dynamicTags.push(e.data.data.picpath2),e.data.data.picpath3&&t.dynamicTags.push(e.data.data.picpath3),e.data.data.filepath1&&t.dynamicTags.push(e.data.data.filepath1),e.data.data.filepath2&&t.dynamicTags.push(e.data.data.filepath2),e.data.data.filepath3&&t.dynamicTags.push(e.data.data.filepath3)})),this.editDialogVisible=!0},deleteudi:function(e,t){var a=this;this.$msgbox.confirm("確定要刪除 "+t+" ?","刪除",{cancelButtonText:"取消",confirmButtonText:"確定",type:"warning"}).then((function(){a.$axios.remove("/udi/"+e).then((function(){a.getUDIList()}))})).catch((function(){}))},deleteFile:function(e,t){var a=this;this.$msgbox.confirm("確定要刪除 "+t.substring(14)+" ?","刪除",{cancelButtonText:"取消",confirmButtonText:"確定",type:"warning"}).then((function(){a.$axios.remove("/udi/"+e+"/"+t).then((function(){a.dynamicTags.splice(a.dynamicTags.indexOf(t),1)}))})).catch((function(){}))},showFile:function(e){var t=this;this.$axios.get("/udi/"+e).then((function(e){e.data.data.picpath1&&t.urls.push("http://20.24.194.150:8282/HTPE/file/"+e.data.data.picpath1),e.data.data.picpath2&&t.urls.push("http://20.24.194.150:8282/HTPE/file/"+e.data.data.picpath2),e.data.data.picpath3&&t.urls.push("http://20.24.194.150:8282/HTPE/file/"+e.data.data.picpath3),e.data.data.filepath1&&t.files.push("http://20.24.194.150:8282/HTPE/file/"+e.data.data.filepath1),e.data.data.filepath2&&t.files.push("http://20.24.194.150:8282/HTPE/file/"+e.data.data.filepath2),e.data.data.filepath3&&t.files.push("http://20.24.194.150:8282/HTPE/file/"+e.data.data.filepath3)})),this.fileDialogVisible=!0}}},N=(a("8701"),a("6b0d")),v=a.n(N);const y=v()(x,[["render",w]]);t["default"]=y}}]);
//# sourceMappingURL=chunk-53eec6d8.d1f94ac2.js.map